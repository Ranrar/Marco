<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marco Grammar Dependency Tree</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            background-color: #1e1e1e;
            color: #d4d4d4;
            margin: 0;
            padding: 20px;
            line-height: 1.4;
            height: 100vh;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
        }
        
        .header-table {
            width: 100%;
            background-color: #252525;
            border-radius: 8px;
            border-collapse: collapse;
            margin-bottom: 20px;
            border: 1px solid #3c3c3c;
            flex-shrink: 0;
        }
        
        .header-table td {
            padding: 15px;
            vertical-align: top;
            border-right: 1px solid #3c3c3c;
        }
        
        .header-table td:last-child {
            border-right: none;
        }
        
        .title-cell {
            width: 30%;
            border-left: 4px solid #007acc;
        }
        
        .title-cell h1 {
            font-size: 18px;
            margin: 0 0 8px 0;
            color: #4ec9b0;
        }
        
        .title-cell p {
            font-size: 11px;
            margin: 2px 0;
            line-height: 1.3;
        }
        
        .legend-cell {
            width: 40%;
            border-left: 4px solid #4ec9b0;
        }
        
        .legend-cell h3 {
            font-size: 12px;
            margin: 0 0 10px 0;
            color: #4ec9b0;
        }
        
        .legend-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 10px;
        }
        
        .legend-table td {
            padding: 2px 6px;
            border: none;
            vertical-align: middle;
        }
        
        .legend-table td:first-child {
            width: 80px;
            font-weight: bold;
        }
        
        .search-cell {
            width: 30%;
            border-left: 4px solid #c586c0;
        }
        
        .search-cell h3 {
            font-size: 12px;
            margin: 0 0 10px 0;
            color: #c586c0;
        }
        
        .search-controls {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .search-input-row {
            display: flex;
            gap: 5px;
        }
        
        #search-input {
            flex: 1;
            padding: 6px;
            background-color: #3c3c3c;
            border: 1px solid #555;
            color: #d4d4d4;
            border-radius: 4px;
            font-size: 11px;
        }
        
        .search-buttons {
            display: flex;
            gap: 3px;
        }
        
        .search-btn {
            padding: 6px 8px;
            background-color: #3c3c3c;
            border: 1px solid #555;
            color: #d4d4d4;
            border-radius: 3px;
            cursor: pointer;
            font-size: 10px;
        }
        
        .search-btn:hover {
            background-color: #4c4c4c;
        }
        
        .search-info {
            font-size: 10px;
            color: #9cdcfe;
        }
        
        .tree-container {
            background-color: #2d2d30;
            padding: 20px;
            border-radius: 8px;
            overflow-y: auto;
            white-space: pre;
            font-size: 14px;
            flex: 1;
            min-height: 0;
            border: 1px solid #3c3c3c;
        }
        
        .entry-point { color: #4ec9b0; font-weight: bold; }
        .block-rule { color: #569cd6; }
        .inline-rule { color: #9cdcfe; }
        .text-rule { color: #ce9178; }
        .formatting-rule { color: #c586c0; }
        .macro-rule { color: #dcdcaa; }
        .keyword-rule { color: #d4d4d4; background-color: #3c3c3c; padding: 2px; }
        .circular { color: #f44747; font-style: italic; }
        
        .highlight {
            background-color: #ffd700;
            color: #000;
            font-weight: bold;
        }
        
        .current-match {
            background-color: #ff6b6b;
            color: #fff;
            font-weight: bold;
            border-radius: 2px;
        }
    </style>
    <script>
        let currentMatches = [];
        let currentMatchIndex = -1;
        let originalContent = '';
        
        function initializeSearch() {
            const treeContainer = document.querySelector('.tree-container');
            originalContent = treeContainer.innerHTML;
        }
        
        function searchTree() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase().trim();
            const treeContainer = document.querySelector('.tree-container');
            
            if (searchTerm === '') {
                treeContainer.innerHTML = originalContent;
                currentMatches = [];
                currentMatchIndex = -1;
                updateSearchInfo();
                return;
            }
            
            // Reset to original content
            treeContainer.innerHTML = originalContent;
            
            // Find all matches
            const text = treeContainer.textContent;
            const regex = new RegExp(searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi');
            const matches = [...text.matchAll(regex)];
            
            if (matches.length === 0) {
                updateSearchInfo(0, 0);
                return;
            }
            
            // Highlight all matches
            let highlightedHTML = originalContent;
            const searchRegex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');
            highlightedHTML = highlightedHTML.replace(searchRegex, '<span class="highlight" data-match-id="$1">$1</span>');
            
            treeContainer.innerHTML = highlightedHTML;
            
            // Update match tracking
            currentMatches = document.querySelectorAll('.highlight');
            currentMatchIndex = -1;
            updateSearchInfo(matches.length, currentMatchIndex + 1);
        }
        
        function jumpToNext() {
            if (currentMatches.length === 0) return;
            
            // Remove current highlight
            if (currentMatchIndex >= 0) {
                currentMatches[currentMatchIndex].classList.remove('current-match');
            }
            
            // Move to next match
            currentMatchIndex = (currentMatchIndex + 1) % currentMatches.length;
            const currentMatch = currentMatches[currentMatchIndex];
            
            // Highlight current match
            currentMatch.classList.add('current-match');
            
            // Scroll to match
            currentMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            updateSearchInfo(currentMatches.length, currentMatchIndex + 1);
        }
        
        function jumpToPrev() {
            if (currentMatches.length === 0) return;
            
            // Remove current highlight
            if (currentMatchIndex >= 0) {
                currentMatches[currentMatchIndex].classList.remove('current-match');
            }
            
            // Move to previous match
            currentMatchIndex = currentMatchIndex <= 0 ? currentMatches.length - 1 : currentMatchIndex - 1;
            const currentMatch = currentMatches[currentMatchIndex];
            
            // Highlight current match
            currentMatch.classList.add('current-match');
            
            // Scroll to match
            currentMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            updateSearchInfo(currentMatches.length, currentMatchIndex + 1);
        }
        
        function updateSearchInfo(total = 0, current = 0) {
            const infoElement = document.querySelector('.search-info');
            if (total === 0) {
                infoElement.textContent = 'No matches';
            } else {
                infoElement.textContent = `${current} of ${total} matches`;
            }
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeSearch();
            
            // Add keyboard shortcuts
            document.getElementById('search-input').addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    if (e.shiftKey) {
                        jumpToPrev();
                    } else {
                        jumpToNext();
                    }
                }
            });
        });
    </script>
</head>
<body>
    <table class="header-table">
        <tr>
            <td class="title-cell">
                <h1>🌳 Marco Grammar Tree</h1>
                <p>Generated from marco.pest</p>
                <p><strong>Rules:</strong> 193 | <strong>Date:</strong> 2025-09-07</p>
            </td>
            <td class="legend-cell">
                <h3>📊 Color Legend</h3>
                <table class="legend-table">
                    <tr><td><span class="entry-point">Entry Points</span></td><td>Main grammar rules</td></tr>
                    <tr><td><span class="block-rule">Block Rules</span></td><td>Block elements</td></tr>
                    <tr><td><span class="inline-rule">Inline Rules</span></td><td>Inline elements</td></tr>
                    <tr><td><span class="formatting-rule">Formatting</span></td><td>Text formatting</td></tr>
                    <tr><td><span class="macro-rule">Marco Ext</span></td><td>Custom features</td></tr>
                    <tr><td><span class="keyword-rule">Keywords</span></td><td>Reserved words</td></tr>
                    <tr><td><span class="circular">Circular</span></td><td>Circular refs</td></tr>
                </table>
            </td>
            <td class="search-cell">
                <h3>🔍 Search & Navigate</h3>
                <div class="search-controls">
                    <div class="search-input-row">
                        <input type="text" id="search-input" placeholder="Search grammar rules..." 
                               onkeyup="searchTree()" autocomplete="off">
                    </div>
                    <div class="search-buttons">
                        <button class="search-btn" onclick="jumpToPrev()">↑ Prev</button>
                        <button class="search-btn" onclick="jumpToNext()">↓ Next</button>
                    </div>
                    <div class="search-info">Enter search term</div>
                </div>
            </td>
        </tr>
    </table>
    
    <div class="tree-container">
 Marco Grammar Dependencies (193 total rules)
 ├─ <span class="entry-point">file</span>
 │  └─ <span class="entry-point">document</span>
 │     └─ section
 │        ├─ BLANK_LINE = _{ WHITESPACE* ~ NEWLINE }
 │        └─ <span class="block-rule">block</span>
 │           ├─ <span class="block-rule">code_block</span>
 │           │  ├─ fenced_code
 │           │  │  └─ language_id = @{ ASCII_ALPHA+ ~ (ASCII_ALPHANUMERIC...
 │           │  └─ indented_code
 │           │     └─ INDENT = _{ &quot; &quot;{4} | &quot;\t&quot; }
 │           ├─ <span class="block-rule">math_block</span> = { &quot;$$&quot; ~ (!&quot;$$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ...
 │           ├─ <span class="block-rule">hr</span> = { WHITESPACE* ~ (&quot;---&quot; | &quot;***&quot; | &quot;___...
 │           ├─ heading
 │           │  ├─ H6
 │           │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │  │  └─ heading_content
 │           │  │     └─ <span class="inline-rule">heading_inline</span>
 │           │  │        ├─ <span class="formatting-rule">emphasis</span>
 │           │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  ├─ <span class="formatting-rule">bold</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="formatting-rule">italic</span>
 │           │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │  │        ├─ escaped_char
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        ├─ <span class="text-rule">word</span>
 │           │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │           │  │        ├─ safe_punct
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │           │  ├─ H5
 │           │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │  │  └─ heading_content
 │           │  │     └─ <span class="inline-rule">heading_inline</span>
 │           │  │        ├─ <span class="formatting-rule">emphasis</span>
 │           │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  ├─ <span class="formatting-rule">bold</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="formatting-rule">italic</span>
 │           │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │  │        ├─ escaped_char
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        ├─ <span class="text-rule">word</span>
 │           │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │           │  │        ├─ safe_punct
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │           │  ├─ H4
 │           │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │  │  └─ heading_content
 │           │  │     └─ <span class="inline-rule">heading_inline</span>
 │           │  │        ├─ <span class="formatting-rule">emphasis</span>
 │           │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  ├─ <span class="formatting-rule">bold</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="formatting-rule">italic</span>
 │           │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │  │        ├─ escaped_char
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        ├─ <span class="text-rule">word</span>
 │           │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │           │  │        ├─ safe_punct
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │           │  ├─ H3
 │           │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │  │  └─ heading_content
 │           │  │     └─ <span class="inline-rule">heading_inline</span>
 │           │  │        ├─ <span class="formatting-rule">emphasis</span>
 │           │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  ├─ <span class="formatting-rule">bold</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="formatting-rule">italic</span>
 │           │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │  │        ├─ escaped_char
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        ├─ <span class="text-rule">word</span>
 │           │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │           │  │        ├─ safe_punct
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │           │  ├─ H2
 │           │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │  │  └─ heading_content
 │           │  │     └─ <span class="inline-rule">heading_inline</span>
 │           │  │        ├─ <span class="formatting-rule">emphasis</span>
 │           │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  ├─ <span class="formatting-rule">bold</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="formatting-rule">italic</span>
 │           │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │  │        ├─ escaped_char
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        ├─ <span class="text-rule">word</span>
 │           │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │           │  │        ├─ safe_punct
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │           │  ├─ H1
 │           │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │  │  └─ heading_content
 │           │  │     └─ <span class="inline-rule">heading_inline</span>
 │           │  │        ├─ <span class="formatting-rule">emphasis</span>
 │           │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  ├─ <span class="formatting-rule">bold</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="formatting-rule">italic</span>
 │           │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │  │        ├─ escaped_char
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        ├─ <span class="text-rule">word</span>
 │           │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │           │  │        ├─ safe_punct
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │           │  ├─ <span class="text-rule">setext_h2</span>
 │           │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │  │  └─ heading_content
 │           │  │     └─ <span class="inline-rule">heading_inline</span>
 │           │  │        ├─ <span class="formatting-rule">emphasis</span>
 │           │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  ├─ <span class="formatting-rule">bold</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="formatting-rule">italic</span>
 │           │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │  │        ├─ escaped_char
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        ├─ <span class="text-rule">word</span>
 │           │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │           │  │        ├─ safe_punct
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │           │  └─ <span class="text-rule">setext_h1</span>
 │           │     ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │     └─ heading_content
 │           │        └─ <span class="inline-rule">heading_inline</span>
 │           │           ├─ <span class="formatting-rule">emphasis</span>
 │           │           │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │           │  ├─ <span class="formatting-rule">bold</span>
 │           │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │           │  └─ <span class="formatting-rule">italic</span>
 │           │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │           ├─ escaped_char
 │           │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │           ├─ <span class="text-rule">word</span>
 │           │           │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │           │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │           │           ├─ safe_punct
 │           │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │           └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │           ├─ <span class="block-rule">blockquote</span>
 │           │  └─ <span class="block-rule">blockquote_line</span>
 │           │     └─ <span class="inline-rule">inline</span>
 │           │        ├─ <span class="inline-rule">inline_core</span>
 │           │        │  ├─ escaped_char
 │           │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │        │  ├─ <span class="inline-rule">inline_link</span>
 │           │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │           │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │           │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │           │        │  │  └─ <span class="inline-rule">autolink</span>
 │           │        │  │     ├─ <span class="inline-rule">autolink_email</span>
 │           │        │  │     │  ├─ <span class="circular">EMAIL_LOCAL</span>
 │           │        │  │     │  └─ <span class="circular">EMAIL_FULL_DOMAIN</span>
 │           │        │  │     └─ <span class="inline-rule">autolink_url</span>
 │           │        │  │        └─ <span class="circular">link_url</span>
 │           │        │  ├─ <span class="inline-rule">inline_image</span>
 │           │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │        │  ├─ <span class="inline-rule">autolink</span>
 │           │        │  │  ├─ <span class="inline-rule">autolink_email</span>
 │           │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │           │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │           │        │  │  └─ <span class="inline-rule">autolink_url</span>
 │           │        │  │     └─ <span class="inline-rule">link_url</span> = @{
 │           │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
 │           │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │           │        │  ├─ <span class="formatting-rule">emphasis</span>
 │           │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │        │  │  ├─ <span class="formatting-rule">bold</span>
 │           │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  │  └─ <span class="formatting-rule">italic</span>
 │           │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │        │  ├─ <span class="block-rule">strikethrough</span>
 │           │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │           │        │  ├─ <span class="formatting-rule">subscript</span>
 │           │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │           │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │           │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │           │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │           │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │           │        │  ├─ <span class="inline-rule">footnote_ref</span>
 │           │        │  │  └─ <span class="inline-rule">footnote_label</span>
 │           │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │        │  ├─ <span class="inline-rule">macro_inline</span>
 │           │        │  │  ├─ <span class="macro-rule">user_mention</span>
 │           │        │  │  │  ├─ username
 │           │        │  │  │  │  └─ <span class="circular">unicode_letter</span>
 │           │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │           │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │           │        │  │  ├─ <span class="inline-rule">run_inline</span>
 │           │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │           │        │  │  │  └─ script_type
 │           │        │  │  │     ├─ <span class="circular">KW_BASH</span>
 │           │        │  │  │     ├─ <span class="circular">KW_ZSH</span>
 │           │        │  │  │     ├─ <span class="circular">KW_SH</span>
 │           │        │  │  │     ├─ <span class="circular">KW_BAT</span>
 │           │        │  │  │     ├─ <span class="circular">KW_POWERSHELL</span>
 │           │        │  │  │     ├─ <span class="circular">KW_PS</span>
 │           │        │  │  │     ├─ <span class="circular">KW_PYTHON</span>
 │           │        │  │  │     └─ <span class="circular">KW_PY</span>
 │           │        │  │  ├─ page_tag
 │           │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │           │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │           │        │  │  └─ doc_ref
 │           │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │           │        │  │     └─ local_path = @{
 │           │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
 │           │        │  └─ <span class="text-rule">text</span> = @{
 │           │        └─ <span class="inline-rule">inline_task_item</span>
 │           │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │           │           ├─ <span class="circular">inline</span>
 │           │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │           ├─ <span class="block-rule">table</span>
 │           │  ├─ <span class="block-rule">table_header</span>
 │           │  │  └─ <span class="block-rule">table_cell</span>
 │           │  │     └─ <span class="block-rule">table_cell_content</span>
 │           │  │        ├─ escaped_char
 │           │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │  │        ├─ <span class="inline-rule">inline_link</span>
 │           │  │        │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │           │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │  │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │  │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │  │        │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │           │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │  │        │  │  └─ <span class="inline-rule">link_url</span> = @{
 │           │  │        │  └─ <span class="inline-rule">autolink</span>
 │           │  │        │     ├─ <span class="inline-rule">autolink_email</span>
 │           │  │        │     │  ├─ <span class="circular">EMAIL_LOCAL</span>
 │           │  │        │     │  └─ <span class="circular">EMAIL_FULL_DOMAIN</span>
 │           │  │        │     └─ <span class="inline-rule">autolink_url</span>
 │           │  │        │        └─ <span class="circular">link_url</span>
 │           │  │        ├─ <span class="inline-rule">inline_image</span>
 │           │  │        │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │  │        │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │  │        │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │  │        ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │           │  │        ├─ <span class="formatting-rule">emphasis</span>
 │           │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │  │        │  ├─ <span class="formatting-rule">bold</span>
 │           │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="formatting-rule">italic</span>
 │           │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │  │        ├─ <span class="block-rule">strikethrough</span>
 │           │  │        │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │           │  │        ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │           │  │        ├─ <span class="formatting-rule">subscript</span>
 │           │  │        │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │           │  │        │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │           │  │        ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │           │  │        ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │           │  │        ├─ <span class="inline-rule">footnote_ref</span>
 │           │  │        │  └─ <span class="inline-rule">footnote_label</span>
 │           │  │        │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │        ├─ <span class="inline-rule">macro_inline</span>
 │           │  │        │  ├─ <span class="macro-rule">user_mention</span>
 │           │  │        │  │  ├─ username
 │           │  │        │  │  │  └─ <span class="circular">unicode_letter</span>
 │           │  │        │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │           │  │        │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │           │  │        │  ├─ <span class="inline-rule">run_inline</span>
 │           │  │        │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │           │  │        │  │  └─ script_type
 │           │  │        │  │     ├─ <span class="circular">KW_BASH</span>
 │           │  │        │  │     ├─ <span class="circular">KW_ZSH</span>
 │           │  │        │  │     ├─ <span class="circular">KW_SH</span>
 │           │  │        │  │     ├─ <span class="circular">KW_BAT</span>
 │           │  │        │  │     ├─ <span class="circular">KW_POWERSHELL</span>
 │           │  │        │  │     ├─ <span class="circular">KW_PS</span>
 │           │  │        │  │     ├─ <span class="circular">KW_PYTHON</span>
 │           │  │        │  │     └─ <span class="circular">KW_PY</span>
 │           │  │        │  ├─ page_tag
 │           │  │        │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │           │  │        │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │           │  │        │  └─ doc_ref
 │           │  │        │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │           │  │        │     └─ local_path = @{
 │           │  │        └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
 │           │  ├─ <span class="block-rule">table_sep</span>
 │           │  │  └─ <span class="block-rule">table_sep_cell</span> =  { WHITESPACE* ~ &quot;:&quot;? ~ &quot;-&quot;+ ~ &quot;:&quot;? ~...
 │           │  └─ <span class="block-rule">table_row</span>
 │           │     └─ <span class="block-rule">table_cell</span>
 │           │        └─ <span class="block-rule">table_cell_content</span>
 │           │           ├─ escaped_char
 │           │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │           ├─ <span class="inline-rule">inline_link</span>
 │           │           │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │           │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │           │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │           │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │           │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │           │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │           │  │  └─ <span class="inline-rule">link_url</span> = @{
 │           │           │  └─ <span class="inline-rule">autolink</span>
 │           │           │     ├─ <span class="inline-rule">autolink_email</span>
 │           │           │     │  ├─ <span class="circular">EMAIL_LOCAL</span>
 │           │           │     │  └─ <span class="circular">EMAIL_FULL_DOMAIN</span>
 │           │           │     └─ <span class="inline-rule">autolink_url</span>
 │           │           │        └─ <span class="circular">link_url</span>
 │           │           ├─ <span class="inline-rule">inline_image</span>
 │           │           │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │           │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │           │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │           ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │           │           ├─ <span class="formatting-rule">emphasis</span>
 │           │           │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │           │  ├─ <span class="formatting-rule">bold</span>
 │           │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │           │  └─ <span class="formatting-rule">italic</span>
 │           │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │           ├─ <span class="block-rule">strikethrough</span>
 │           │           │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │           │           │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │           │           ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │           │           ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │           │           ├─ <span class="formatting-rule">subscript</span>
 │           │           │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │           │           │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │           │           ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │           │           ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │           │           ├─ <span class="inline-rule">footnote_ref</span>
 │           │           │  └─ <span class="inline-rule">footnote_label</span>
 │           │           │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │           ├─ <span class="inline-rule">macro_inline</span>
 │           │           │  ├─ <span class="macro-rule">user_mention</span>
 │           │           │  │  ├─ username
 │           │           │  │  │  └─ <span class="circular">unicode_letter</span>
 │           │           │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │           │           │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │           │           │  ├─ <span class="inline-rule">run_inline</span>
 │           │           │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │           │           │  │  └─ script_type
 │           │           │  │     ├─ <span class="circular">KW_BASH</span>
 │           │           │  │     ├─ <span class="circular">KW_ZSH</span>
 │           │           │  │     ├─ <span class="circular">KW_SH</span>
 │           │           │  │     ├─ <span class="circular">KW_BAT</span>
 │           │           │  │     ├─ <span class="circular">KW_POWERSHELL</span>
 │           │           │  │     ├─ <span class="circular">KW_PS</span>
 │           │           │  │     ├─ <span class="circular">KW_PYTHON</span>
 │           │           │  │     └─ <span class="circular">KW_PY</span>
 │           │           │  ├─ page_tag
 │           │           │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │           │           │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │           │           │  └─ doc_ref
 │           │           │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │           │           │     └─ local_path = @{
 │           │           └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
 │           ├─ <span class="block-rule">list</span>
 │           │  └─ <span class="block-rule">list_item</span>
 │           │     ├─ INDENT_OPT = _{ (&quot; &quot; | &quot;\t&quot;)* }
 │           │     ├─ <span class="block-rule">task_list_item</span>
 │           │     │  ├─ <span class="block-rule">list_marker</span>
 │           │     │  │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
 │           │     │  │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
 │           │     │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │           │     │  ├─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
 │           │     │  └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │           │     └─ <span class="block-rule">regular_list_item</span>
 │           │        ├─ <span class="block-rule">list_marker</span>
 │           │        │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
 │           │        │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
 │           │        ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │           │        └─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
 │           ├─ <span class="block-rule">macro_block</span>
 │           │  ├─ <span class="block-rule">admonition_block</span>
 │           │  │  ├─ <span class="block-rule">admonition_open</span>
 │           │  │  │  └─ <span class="block-rule">admonition_type</span>
 │           │  │  │     ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
 │           │  │  │     ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
 │           │  │  │     ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
 │           │  │  │     ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
 │           │  │  │     └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
 │           │  │  ├─ <span class="block-rule">admonition_emoji</span> = { &quot;:::&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; ~...
 │           │  │  ├─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
 │           │  │  └─ admo_nest
 │           │  │     ├─ <span class="circular">admonition_block</span>
 │           │  │     └─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
 │           │  ├─ <span class="block-rule">run_block_fenced</span>
 │           │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │           │  │  └─ script_type
 │           │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │           │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │           │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │           │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │           │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │           │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │           │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │           │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │           │  ├─ diagram_fenced
 │           │  │  └─ diagram_type
 │           │  │     ├─ <span class="keyword-rule">KW_MERMAID</span> = @{ ^&quot;mermaid&quot; }
 │           │  │     └─ <span class="keyword-rule">KW_GRAPHVIZ</span> = @{ ^&quot;graphviz&quot; }
 │           │  ├─ <span class="macro-rule">bookmark</span>
 │           │  │  ├─ <span class="macro-rule">KW_BOOKMARK</span>
 │           │  │  │  └─ <span class="circular">bookmark</span>
 │           │  │  └─ local_path = @{
 │           │  ├─ <span class="block-rule">block_youtube</span>
 │           │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │           │  │  └─ youtube_url
 │           │  │     └─ URL_SAFE
 │           │  │        └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  ├─ <span class="block-rule">block_image</span>
 │           │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │           │  │  └─ <span class="inline-rule">image_url</span>
 │           │  │     ├─ http_url
 │           │  │     │  └─ URL_SAFE
 │           │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │     ├─ www_url
 │           │  │     │  └─ URL_SAFE
 │           │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │  │     ├─ local_path = @{
 │           │  │     └─ <span class="inline-rule">image_ext</span> = @{ &quot;.&quot; ~ (^&quot;jpg&quot; | ^&quot;jpeg&quot; | ^&quot;png&quot; |...
 │           │  └─ <span class="block-rule">tab_block</span>
 │           │     ├─ <span class="macro-rule">tab_header</span>
 │           │     │  ├─ <span class="macro-rule">KW_TAB</span>
 │           │     │  │  └─ <span class="macro-rule">tab</span>
 │           │     │  │     ├─ <span class="macro-rule">tab_line</span>
 │           │     │  │     │  ├─ <span class="circular">KW_TAB</span>
 │           │     │  │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │           │     │  │     └─ <span class="macro-rule">tab_content_II</span>
 │           │     │  │        ├─ <span class="macro-rule">tab_line</span>
 │           │     │  │        │  ├─ <span class="circular">KW_TAB</span>
 │           │     │  │        │  └─ <span class="circular">tab_name</span>
 │           │     │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │           │     │  └─ <span class="macro-rule">tab_title</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │           │     ├─ <span class="macro-rule">tabs_content_I</span>
 │           │     │  ├─ <span class="macro-rule">tab_content_line</span>
 │           │     │  │  ├─ <span class="macro-rule">tab_line</span>
 │           │     │  │  │  ├─ <span class="macro-rule">KW_TAB</span>
 │           │     │  │  │  │  └─ <span class="macro-rule">tab</span>
 │           │     │  │  │  │     ├─ <span class="circular">tab_line</span>
 │           │     │  │  │  │     └─ <span class="circular">tab_content_II</span>
 │           │     │  │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │           │     │  │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │           │     │  └─ <span class="macro-rule">tab</span>
 │           │     │     ├─ <span class="macro-rule">tab_line</span>
 │           │     │     │  ├─ <span class="macro-rule">KW_TAB</span>
 │           │     │     │  │  └─ <span class="circular">tab</span>
 │           │     │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │           │     │     └─ <span class="macro-rule">tab_content_II</span>
 │           │     │        ├─ <span class="macro-rule">tab_line</span>
 │           │     │        │  ├─ <span class="macro-rule">KW_TAB</span>
 │           │     │        │  │  └─ <span class="circular">tab</span>
 │           │     │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │           │     │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │           │     └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │           ├─ <span class="inline-rule">footnote_def</span>
 │           │  └─ <span class="inline-rule">footnote_label</span>
 │           │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           ├─ reference_definition
 │           │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │           │  ├─ <span class="inline-rule">inline_link</span>
 │           │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │           │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │           │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │           │  │  └─ <span class="inline-rule">autolink</span>
 │           │  │     ├─ <span class="inline-rule">autolink_email</span>
 │           │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │           │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │           │  │     └─ <span class="inline-rule">autolink_url</span>
 │           │  │        └─ <span class="inline-rule">link_url</span> = @{
 │           │  └─ ref_title = { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot; ...
 │           ├─ <span class="inline-rule">reference_link</span>
 │           │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │           ├─ <span class="inline-rule">reference_image</span>
 │           │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │           ├─ <span class="block-rule">def_list</span>
 │           │  ├─ term_line = @{ (!NEWLINE ~ ANY)+ }
 │           │  └─ def_line =  { &quot;:&quot; ~ &quot; &quot; ~ (!NEWLINE ~ ANY)+ }
 │           ├─ <span class="block-rule">block_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │           ├─ <span class="block-rule">block_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY | NEWLINE)* ~ &quot;&gt;&quot; }
 │           ├─ <span class="block-rule">paragraph</span>
 │           │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │           │  ├─ <span class="block-rule">block_start</span> = _{
 │           │  └─ <span class="block-rule">paragraph_line</span>
 │           │     └─ <span class="inline-rule">inline</span>
 │           │        ├─ <span class="inline-rule">inline_core</span>
 │           │        │  ├─ escaped_char
 │           │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │           │        │  ├─ <span class="inline-rule">inline_link</span>
 │           │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │           │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │           │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │           │        │  │  └─ <span class="inline-rule">autolink</span>
 │           │        │  │     ├─ <span class="inline-rule">autolink_email</span>
 │           │        │  │     │  ├─ <span class="circular">EMAIL_LOCAL</span>
 │           │        │  │     │  └─ <span class="circular">EMAIL_FULL_DOMAIN</span>
 │           │        │  │     └─ <span class="inline-rule">autolink_url</span>
 │           │        │  │        └─ <span class="circular">link_url</span>
 │           │        │  ├─ <span class="inline-rule">inline_image</span>
 │           │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │           │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │           │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │           │        │  ├─ <span class="inline-rule">autolink</span>
 │           │        │  │  ├─ <span class="inline-rule">autolink_email</span>
 │           │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │           │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │           │        │  │  └─ <span class="inline-rule">autolink_url</span>
 │           │        │  │     └─ <span class="inline-rule">link_url</span> = @{
 │           │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
 │           │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │           │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │           │        │  ├─ <span class="formatting-rule">emphasis</span>
 │           │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
 │           │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │           │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │           │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │           │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │           │        │  │  ├─ <span class="formatting-rule">bold</span>
 │           │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  │  └─ <span class="formatting-rule">italic</span>
 │           │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │           │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │           │        │  ├─ <span class="block-rule">strikethrough</span>
 │           │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │           │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │           │        │  ├─ <span class="formatting-rule">subscript</span>
 │           │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │           │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │           │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │           │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │           │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │           │        │  ├─ <span class="inline-rule">footnote_ref</span>
 │           │        │  │  └─ <span class="inline-rule">footnote_label</span>
 │           │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │           │        │  ├─ <span class="inline-rule">macro_inline</span>
 │           │        │  │  ├─ <span class="macro-rule">user_mention</span>
 │           │        │  │  │  ├─ username
 │           │        │  │  │  │  └─ <span class="circular">unicode_letter</span>
 │           │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │           │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │           │        │  │  ├─ <span class="inline-rule">run_inline</span>
 │           │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │           │        │  │  │  └─ script_type
 │           │        │  │  │     ├─ <span class="circular">KW_BASH</span>
 │           │        │  │  │     ├─ <span class="circular">KW_ZSH</span>
 │           │        │  │  │     ├─ <span class="circular">KW_SH</span>
 │           │        │  │  │     ├─ <span class="circular">KW_BAT</span>
 │           │        │  │  │     ├─ <span class="circular">KW_POWERSHELL</span>
 │           │        │  │  │     ├─ <span class="circular">KW_PS</span>
 │           │        │  │  │     ├─ <span class="circular">KW_PYTHON</span>
 │           │        │  │  │     └─ <span class="circular">KW_PY</span>
 │           │        │  │  ├─ page_tag
 │           │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │           │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │           │        │  │  └─ doc_ref
 │           │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │           │        │  │     └─ local_path = @{
 │           │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
 │           │        │  └─ <span class="text-rule">text</span> = @{
 │           │        └─ <span class="inline-rule">inline_task_item</span>
 │           │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │           │           ├─ <span class="circular">inline</span>
 │           │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │           └─ <span class="block-rule">unknown_block</span> = { (!NEWLINE ~ ANY)+ }
 ├─ <span class="entry-point">document</span>
 │  └─ section
 │     ├─ BLANK_LINE = _{ WHITESPACE* ~ NEWLINE }
 │     └─ <span class="block-rule">block</span>
 │        ├─ <span class="block-rule">code_block</span>
 │        │  ├─ fenced_code
 │        │  │  └─ language_id = @{ ASCII_ALPHA+ ~ (ASCII_ALPHANUMERIC...
 │        │  └─ indented_code
 │        │     └─ INDENT = _{ &quot; &quot;{4} | &quot;\t&quot; }
 │        ├─ <span class="block-rule">math_block</span> = { &quot;$$&quot; ~ (!&quot;$$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ...
 │        ├─ <span class="block-rule">hr</span> = { WHITESPACE* ~ (&quot;---&quot; | &quot;***&quot; | &quot;___...
 │        ├─ heading
 │        │  ├─ H6
 │        │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │  │  └─ heading_content
 │        │  │     └─ <span class="inline-rule">heading_inline</span>
 │        │  │        ├─ <span class="formatting-rule">emphasis</span>
 │        │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  ├─ <span class="formatting-rule">bold</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="formatting-rule">italic</span>
 │        │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │  │        ├─ escaped_char
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        ├─ <span class="text-rule">word</span>
 │        │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │        │  │        ├─ safe_punct
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │        │  ├─ H5
 │        │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │  │  └─ heading_content
 │        │  │     └─ <span class="inline-rule">heading_inline</span>
 │        │  │        ├─ <span class="formatting-rule">emphasis</span>
 │        │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  ├─ <span class="formatting-rule">bold</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="formatting-rule">italic</span>
 │        │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │  │        ├─ escaped_char
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        ├─ <span class="text-rule">word</span>
 │        │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │        │  │        ├─ safe_punct
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │        │  ├─ H4
 │        │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │  │  └─ heading_content
 │        │  │     └─ <span class="inline-rule">heading_inline</span>
 │        │  │        ├─ <span class="formatting-rule">emphasis</span>
 │        │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  ├─ <span class="formatting-rule">bold</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="formatting-rule">italic</span>
 │        │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │  │        ├─ escaped_char
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        ├─ <span class="text-rule">word</span>
 │        │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │        │  │        ├─ safe_punct
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │        │  ├─ H3
 │        │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │  │  └─ heading_content
 │        │  │     └─ <span class="inline-rule">heading_inline</span>
 │        │  │        ├─ <span class="formatting-rule">emphasis</span>
 │        │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  ├─ <span class="formatting-rule">bold</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="formatting-rule">italic</span>
 │        │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │  │        ├─ escaped_char
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        ├─ <span class="text-rule">word</span>
 │        │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │        │  │        ├─ safe_punct
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │        │  ├─ H2
 │        │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │  │  └─ heading_content
 │        │  │     └─ <span class="inline-rule">heading_inline</span>
 │        │  │        ├─ <span class="formatting-rule">emphasis</span>
 │        │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  ├─ <span class="formatting-rule">bold</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="formatting-rule">italic</span>
 │        │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │  │        ├─ escaped_char
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        ├─ <span class="text-rule">word</span>
 │        │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │        │  │        ├─ safe_punct
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │        │  ├─ H1
 │        │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │  │  └─ heading_content
 │        │  │     └─ <span class="inline-rule">heading_inline</span>
 │        │  │        ├─ <span class="formatting-rule">emphasis</span>
 │        │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  ├─ <span class="formatting-rule">bold</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="formatting-rule">italic</span>
 │        │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │  │        ├─ escaped_char
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        ├─ <span class="text-rule">word</span>
 │        │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │        │  │        ├─ safe_punct
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │        │  ├─ <span class="text-rule">setext_h2</span>
 │        │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │  │  └─ heading_content
 │        │  │     └─ <span class="inline-rule">heading_inline</span>
 │        │  │        ├─ <span class="formatting-rule">emphasis</span>
 │        │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  ├─ <span class="formatting-rule">bold</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="formatting-rule">italic</span>
 │        │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │  │        ├─ escaped_char
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        ├─ <span class="text-rule">word</span>
 │        │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │        │  │        ├─ safe_punct
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │        │  └─ <span class="text-rule">setext_h1</span>
 │        │     ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │     └─ heading_content
 │        │        └─ <span class="inline-rule">heading_inline</span>
 │        │           ├─ <span class="formatting-rule">emphasis</span>
 │        │           │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │           │  ├─ <span class="formatting-rule">bold</span>
 │        │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │           │  └─ <span class="formatting-rule">italic</span>
 │        │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │           ├─ escaped_char
 │        │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │           ├─ <span class="text-rule">word</span>
 │        │           │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │           │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │        │           ├─ safe_punct
 │        │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │           └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │        ├─ <span class="block-rule">blockquote</span>
 │        │  └─ <span class="block-rule">blockquote_line</span>
 │        │     └─ <span class="inline-rule">inline</span>
 │        │        ├─ <span class="inline-rule">inline_core</span>
 │        │        │  ├─ escaped_char
 │        │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │        │  ├─ <span class="inline-rule">inline_link</span>
 │        │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │        │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │        │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │        │        │  │  └─ <span class="inline-rule">autolink</span>
 │        │        │  │     ├─ <span class="inline-rule">autolink_email</span>
 │        │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │        │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │        │        │  │     └─ <span class="inline-rule">autolink_url</span>
 │        │        │  │        └─ <span class="inline-rule">link_url</span> = @{
 │        │        │  ├─ <span class="inline-rule">inline_image</span>
 │        │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │        │  ├─ <span class="inline-rule">autolink</span>
 │        │        │  │  ├─ <span class="inline-rule">autolink_email</span>
 │        │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │        │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │        │        │  │  └─ <span class="inline-rule">autolink_url</span>
 │        │        │  │     └─ <span class="inline-rule">link_url</span> = @{
 │        │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
 │        │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │        │        │  ├─ <span class="formatting-rule">emphasis</span>
 │        │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │        │  │  ├─ <span class="formatting-rule">bold</span>
 │        │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  │  └─ <span class="formatting-rule">italic</span>
 │        │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │        │  ├─ <span class="block-rule">strikethrough</span>
 │        │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │        │        │  ├─ <span class="formatting-rule">subscript</span>
 │        │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │        │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │        │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │        │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │        │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │        │        │  ├─ <span class="inline-rule">footnote_ref</span>
 │        │        │  │  └─ <span class="inline-rule">footnote_label</span>
 │        │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │        │  ├─ <span class="inline-rule">macro_inline</span>
 │        │        │  │  ├─ <span class="macro-rule">user_mention</span>
 │        │        │  │  │  ├─ username
 │        │        │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │        │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │        │        │  │  ├─ <span class="inline-rule">run_inline</span>
 │        │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │        │        │  │  │  └─ script_type
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │        │        │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │        │        │  │  ├─ page_tag
 │        │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │        │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │        │        │  │  └─ doc_ref
 │        │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │        │        │  │     └─ local_path = @{
 │        │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
 │        │        │  └─ <span class="text-rule">text</span> = @{
 │        │        └─ <span class="inline-rule">inline_task_item</span>
 │        │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │        │           ├─ <span class="circular">inline</span>
 │        │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │        ├─ <span class="block-rule">table</span>
 │        │  ├─ <span class="block-rule">table_header</span>
 │        │  │  └─ <span class="block-rule">table_cell</span>
 │        │  │     └─ <span class="block-rule">table_cell_content</span>
 │        │  │        ├─ escaped_char
 │        │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │  │        ├─ <span class="inline-rule">inline_link</span>
 │        │  │        │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │        │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │  │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │  │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │  │        │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │        │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │  │        │  │  └─ <span class="inline-rule">link_url</span> = @{
 │        │  │        │  └─ <span class="inline-rule">autolink</span>
 │        │  │        │     ├─ <span class="inline-rule">autolink_email</span>
 │        │  │        │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │        │  │        │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │        │  │        │     └─ <span class="inline-rule">autolink_url</span>
 │        │  │        │        └─ <span class="inline-rule">link_url</span> = @{
 │        │  │        ├─ <span class="inline-rule">inline_image</span>
 │        │  │        │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │  │        │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │  │        │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │  │        ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │        │  │        ├─ <span class="formatting-rule">emphasis</span>
 │        │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │  │        │  ├─ <span class="formatting-rule">bold</span>
 │        │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="formatting-rule">italic</span>
 │        │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │  │        ├─ <span class="block-rule">strikethrough</span>
 │        │  │        │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │        │  │        ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │        │  │        ├─ <span class="formatting-rule">subscript</span>
 │        │  │        │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │        │  │        │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │        │  │        ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │        │  │        ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │        │  │        ├─ <span class="inline-rule">footnote_ref</span>
 │        │  │        │  └─ <span class="inline-rule">footnote_label</span>
 │        │  │        │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        ├─ <span class="inline-rule">macro_inline</span>
 │        │  │        │  ├─ <span class="macro-rule">user_mention</span>
 │        │  │        │  │  ├─ username
 │        │  │        │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │        │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │        │  │        │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │        │  │        │  ├─ <span class="inline-rule">run_inline</span>
 │        │  │        │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │        │  │        │  │  └─ script_type
 │        │  │        │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │        │  │        │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │        │  │        │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │        │  │        │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │        │  │        │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │        │  │        │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │        │  │        │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │        │  │        │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │        │  │        │  ├─ page_tag
 │        │  │        │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │        │  │        │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │        │  │        │  └─ doc_ref
 │        │  │        │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │        │  │        │     └─ local_path = @{
 │        │  │        └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
 │        │  ├─ <span class="block-rule">table_sep</span>
 │        │  │  └─ <span class="block-rule">table_sep_cell</span> =  { WHITESPACE* ~ &quot;:&quot;? ~ &quot;-&quot;+ ~ &quot;:&quot;? ~...
 │        │  └─ <span class="block-rule">table_row</span>
 │        │     └─ <span class="block-rule">table_cell</span>
 │        │        └─ <span class="block-rule">table_cell_content</span>
 │        │           ├─ escaped_char
 │        │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │           ├─ <span class="inline-rule">inline_link</span>
 │        │           │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │        │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │           │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │           │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │           │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │        │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │           │  │  └─ <span class="inline-rule">link_url</span> = @{
 │        │           │  └─ <span class="inline-rule">autolink</span>
 │        │           │     ├─ <span class="inline-rule">autolink_email</span>
 │        │           │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │        │           │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │        │           │     └─ <span class="inline-rule">autolink_url</span>
 │        │           │        └─ <span class="inline-rule">link_url</span> = @{
 │        │           ├─ <span class="inline-rule">inline_image</span>
 │        │           │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │           │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │           │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │           ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │        │           ├─ <span class="formatting-rule">emphasis</span>
 │        │           │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │           │  ├─ <span class="formatting-rule">bold</span>
 │        │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │           │  └─ <span class="formatting-rule">italic</span>
 │        │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │           ├─ <span class="block-rule">strikethrough</span>
 │        │           │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │        │           │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │        │           ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │        │           ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │        │           ├─ <span class="formatting-rule">subscript</span>
 │        │           │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │        │           │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │        │           ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │        │           ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │        │           ├─ <span class="inline-rule">footnote_ref</span>
 │        │           │  └─ <span class="inline-rule">footnote_label</span>
 │        │           │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │           ├─ <span class="inline-rule">macro_inline</span>
 │        │           │  ├─ <span class="macro-rule">user_mention</span>
 │        │           │  │  ├─ username
 │        │           │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │           │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │        │           │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │        │           │  ├─ <span class="inline-rule">run_inline</span>
 │        │           │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │        │           │  │  └─ script_type
 │        │           │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │        │           │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │        │           │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │        │           │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │        │           │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │        │           │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │        │           │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │        │           │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │        │           │  ├─ page_tag
 │        │           │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │        │           │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │        │           │  └─ doc_ref
 │        │           │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │        │           │     └─ local_path = @{
 │        │           └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
 │        ├─ <span class="block-rule">list</span>
 │        │  └─ <span class="block-rule">list_item</span>
 │        │     ├─ INDENT_OPT = _{ (&quot; &quot; | &quot;\t&quot;)* }
 │        │     ├─ <span class="block-rule">task_list_item</span>
 │        │     │  ├─ <span class="block-rule">list_marker</span>
 │        │     │  │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
 │        │     │  │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
 │        │     │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │        │     │  ├─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
 │        │     │  └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │        │     └─ <span class="block-rule">regular_list_item</span>
 │        │        ├─ <span class="block-rule">list_marker</span>
 │        │        │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
 │        │        │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
 │        │        ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │        │        └─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
 │        ├─ <span class="block-rule">macro_block</span>
 │        │  ├─ <span class="block-rule">admonition_block</span>
 │        │  │  ├─ <span class="block-rule">admonition_open</span>
 │        │  │  │  └─ <span class="block-rule">admonition_type</span>
 │        │  │  │     ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
 │        │  │  │     ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
 │        │  │  │     ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
 │        │  │  │     ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
 │        │  │  │     └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
 │        │  │  ├─ <span class="block-rule">admonition_emoji</span> = { &quot;:::&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; ~...
 │        │  │  ├─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
 │        │  │  └─ admo_nest
 │        │  │     ├─ <span class="circular">admonition_block</span>
 │        │  │     └─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
 │        │  ├─ <span class="block-rule">run_block_fenced</span>
 │        │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │        │  │  └─ script_type
 │        │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │        │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │        │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │        │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │        │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │        │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │        │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │        │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │        │  ├─ diagram_fenced
 │        │  │  └─ diagram_type
 │        │  │     ├─ <span class="keyword-rule">KW_MERMAID</span> = @{ ^&quot;mermaid&quot; }
 │        │  │     └─ <span class="keyword-rule">KW_GRAPHVIZ</span> = @{ ^&quot;graphviz&quot; }
 │        │  ├─ <span class="macro-rule">bookmark</span>
 │        │  │  ├─ <span class="macro-rule">KW_BOOKMARK</span>
 │        │  │  │  └─ <span class="circular">bookmark</span>
 │        │  │  └─ local_path = @{
 │        │  ├─ <span class="block-rule">block_youtube</span>
 │        │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │        │  │  └─ youtube_url
 │        │  │     └─ URL_SAFE
 │        │  │        └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  ├─ <span class="block-rule">block_image</span>
 │        │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │        │  │  └─ <span class="inline-rule">image_url</span>
 │        │  │     ├─ http_url
 │        │  │     │  └─ URL_SAFE
 │        │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │     ├─ www_url
 │        │  │     │  └─ URL_SAFE
 │        │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │  │     ├─ local_path = @{
 │        │  │     └─ <span class="inline-rule">image_ext</span> = @{ &quot;.&quot; ~ (^&quot;jpg&quot; | ^&quot;jpeg&quot; | ^&quot;png&quot; |...
 │        │  └─ <span class="block-rule">tab_block</span>
 │        │     ├─ <span class="macro-rule">tab_header</span>
 │        │     │  ├─ <span class="macro-rule">KW_TAB</span>
 │        │     │  │  └─ <span class="macro-rule">tab</span>
 │        │     │  │     ├─ <span class="macro-rule">tab_line</span>
 │        │     │  │     │  ├─ <span class="circular">KW_TAB</span>
 │        │     │  │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │        │     │  │     └─ <span class="macro-rule">tab_content_II</span>
 │        │     │  │        ├─ <span class="macro-rule">tab_line</span>
 │        │     │  │        │  ├─ <span class="circular">KW_TAB</span>
 │        │     │  │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │        │     │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │        │     │  └─ <span class="macro-rule">tab_title</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │        │     ├─ <span class="macro-rule">tabs_content_I</span>
 │        │     │  ├─ <span class="macro-rule">tab_content_line</span>
 │        │     │  │  ├─ <span class="macro-rule">tab_line</span>
 │        │     │  │  │  ├─ <span class="macro-rule">KW_TAB</span>
 │        │     │  │  │  │  └─ <span class="macro-rule">tab</span>
 │        │     │  │  │  │     ├─ <span class="circular">tab_line</span>
 │        │     │  │  │  │     └─ <span class="macro-rule">tab_content_II</span>
 │        │     │  │  │  │        ├─ <span class="circular">tab_line</span>
 │        │     │  │  │  │        └─ <span class="circular">tab_end</span>
 │        │     │  │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │        │     │  │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │        │     │  └─ <span class="macro-rule">tab</span>
 │        │     │     ├─ <span class="macro-rule">tab_line</span>
 │        │     │     │  ├─ <span class="macro-rule">KW_TAB</span>
 │        │     │     │  │  └─ <span class="circular">tab</span>
 │        │     │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │        │     │     └─ <span class="macro-rule">tab_content_II</span>
 │        │     │        ├─ <span class="macro-rule">tab_line</span>
 │        │     │        │  ├─ <span class="macro-rule">KW_TAB</span>
 │        │     │        │  │  └─ <span class="circular">tab</span>
 │        │     │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │        │     │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │        │     └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │        ├─ <span class="inline-rule">footnote_def</span>
 │        │  └─ <span class="inline-rule">footnote_label</span>
 │        │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        ├─ reference_definition
 │        │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │        │  ├─ <span class="inline-rule">inline_link</span>
 │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │        │  │  └─ <span class="inline-rule">autolink</span>
 │        │  │     ├─ <span class="inline-rule">autolink_email</span>
 │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │        │  │     └─ <span class="inline-rule">autolink_url</span>
 │        │  │        └─ <span class="inline-rule">link_url</span> = @{
 │        │  └─ ref_title = { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot; ...
 │        ├─ <span class="inline-rule">reference_link</span>
 │        │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │        ├─ <span class="inline-rule">reference_image</span>
 │        │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │        ├─ <span class="block-rule">def_list</span>
 │        │  ├─ term_line = @{ (!NEWLINE ~ ANY)+ }
 │        │  └─ def_line =  { &quot;:&quot; ~ &quot; &quot; ~ (!NEWLINE ~ ANY)+ }
 │        ├─ <span class="block-rule">block_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │        ├─ <span class="block-rule">block_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY | NEWLINE)* ~ &quot;&gt;&quot; }
 │        ├─ <span class="block-rule">paragraph</span>
 │        │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │        │  ├─ <span class="block-rule">block_start</span> = _{
 │        │  └─ <span class="block-rule">paragraph_line</span>
 │        │     └─ <span class="inline-rule">inline</span>
 │        │        ├─ <span class="inline-rule">inline_core</span>
 │        │        │  ├─ escaped_char
 │        │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │        │        │  ├─ <span class="inline-rule">inline_link</span>
 │        │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │        │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │        │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │        │        │  │  └─ <span class="inline-rule">autolink</span>
 │        │        │  │     ├─ <span class="inline-rule">autolink_email</span>
 │        │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │        │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │        │        │  │     └─ <span class="inline-rule">autolink_url</span>
 │        │        │  │        └─ <span class="inline-rule">link_url</span> = @{
 │        │        │  ├─ <span class="inline-rule">inline_image</span>
 │        │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │        │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │        │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │        │        │  ├─ <span class="inline-rule">autolink</span>
 │        │        │  │  ├─ <span class="inline-rule">autolink_email</span>
 │        │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │        │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │        │        │  │  └─ <span class="inline-rule">autolink_url</span>
 │        │        │  │     └─ <span class="inline-rule">link_url</span> = @{
 │        │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
 │        │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │        │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │        │        │  ├─ <span class="formatting-rule">emphasis</span>
 │        │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
 │        │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │        │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │        │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │        │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │        │        │  │  ├─ <span class="formatting-rule">bold</span>
 │        │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  │  └─ <span class="formatting-rule">italic</span>
 │        │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │        │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │        │        │  ├─ <span class="block-rule">strikethrough</span>
 │        │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │        │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │        │        │  ├─ <span class="formatting-rule">subscript</span>
 │        │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │        │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │        │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │        │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │        │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │        │        │  ├─ <span class="inline-rule">footnote_ref</span>
 │        │        │  │  └─ <span class="inline-rule">footnote_label</span>
 │        │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │        │  ├─ <span class="inline-rule">macro_inline</span>
 │        │        │  │  ├─ <span class="macro-rule">user_mention</span>
 │        │        │  │  │  ├─ username
 │        │        │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │        │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │        │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │        │        │  │  ├─ <span class="inline-rule">run_inline</span>
 │        │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │        │        │  │  │  └─ script_type
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │        │        │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │        │        │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │        │        │  │  ├─ page_tag
 │        │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │        │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │        │        │  │  └─ doc_ref
 │        │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │        │        │  │     └─ local_path = @{
 │        │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
 │        │        │  └─ <span class="text-rule">text</span> = @{
 │        │        └─ <span class="inline-rule">inline_task_item</span>
 │        │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │        │           ├─ <span class="circular">inline</span>
 │        │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │        └─ <span class="block-rule">unknown_block</span> = { (!NEWLINE ~ ANY)+ }
 ├─ <span class="block-rule">block</span>
 │  ├─ <span class="block-rule">code_block</span>
 │  │  ├─ fenced_code
 │  │  │  └─ language_id = @{ ASCII_ALPHA+ ~ (ASCII_ALPHANUMERIC...
 │  │  └─ indented_code
 │  │     └─ INDENT = _{ &quot; &quot;{4} | &quot;\t&quot; }
 │  ├─ <span class="block-rule">math_block</span> = { &quot;$$&quot; ~ (!&quot;$$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ...
 │  ├─ <span class="block-rule">hr</span> = { WHITESPACE* ~ (&quot;---&quot; | &quot;***&quot; | &quot;___...
 │  ├─ heading
 │  │  ├─ H6
 │  │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │  │  └─ heading_content
 │  │  │     └─ <span class="inline-rule">heading_inline</span>
 │  │  │        ├─ <span class="formatting-rule">emphasis</span>
 │  │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  ├─ <span class="formatting-rule">bold</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="formatting-rule">italic</span>
 │  │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  │        ├─ escaped_char
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        ├─ <span class="text-rule">word</span>
 │  │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │  │  │        ├─ safe_punct
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │  │  ├─ H5
 │  │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │  │  └─ heading_content
 │  │  │     └─ <span class="inline-rule">heading_inline</span>
 │  │  │        ├─ <span class="formatting-rule">emphasis</span>
 │  │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  ├─ <span class="formatting-rule">bold</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="formatting-rule">italic</span>
 │  │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  │        ├─ escaped_char
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        ├─ <span class="text-rule">word</span>
 │  │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │  │  │        ├─ safe_punct
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │  │  ├─ H4
 │  │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │  │  └─ heading_content
 │  │  │     └─ <span class="inline-rule">heading_inline</span>
 │  │  │        ├─ <span class="formatting-rule">emphasis</span>
 │  │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  ├─ <span class="formatting-rule">bold</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="formatting-rule">italic</span>
 │  │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  │        ├─ escaped_char
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        ├─ <span class="text-rule">word</span>
 │  │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │  │  │        ├─ safe_punct
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │  │  ├─ H3
 │  │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │  │  └─ heading_content
 │  │  │     └─ <span class="inline-rule">heading_inline</span>
 │  │  │        ├─ <span class="formatting-rule">emphasis</span>
 │  │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  ├─ <span class="formatting-rule">bold</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="formatting-rule">italic</span>
 │  │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  │        ├─ escaped_char
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        ├─ <span class="text-rule">word</span>
 │  │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │  │  │        ├─ safe_punct
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │  │  ├─ H2
 │  │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │  │  └─ heading_content
 │  │  │     └─ <span class="inline-rule">heading_inline</span>
 │  │  │        ├─ <span class="formatting-rule">emphasis</span>
 │  │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  ├─ <span class="formatting-rule">bold</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="formatting-rule">italic</span>
 │  │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  │        ├─ escaped_char
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        ├─ <span class="text-rule">word</span>
 │  │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │  │  │        ├─ safe_punct
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │  │  ├─ H1
 │  │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │  │  └─ heading_content
 │  │  │     └─ <span class="inline-rule">heading_inline</span>
 │  │  │        ├─ <span class="formatting-rule">emphasis</span>
 │  │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  ├─ <span class="formatting-rule">bold</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="formatting-rule">italic</span>
 │  │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  │        ├─ escaped_char
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        ├─ <span class="text-rule">word</span>
 │  │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │  │  │        ├─ safe_punct
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │  │  ├─ <span class="text-rule">setext_h2</span>
 │  │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │  │  └─ heading_content
 │  │  │     └─ <span class="inline-rule">heading_inline</span>
 │  │  │        ├─ <span class="formatting-rule">emphasis</span>
 │  │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  ├─ <span class="formatting-rule">bold</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="formatting-rule">italic</span>
 │  │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  │        ├─ escaped_char
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        ├─ <span class="text-rule">word</span>
 │  │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │  │  │        ├─ safe_punct
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │  │  └─ <span class="text-rule">setext_h1</span>
 │  │     ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │     └─ heading_content
 │  │        └─ <span class="inline-rule">heading_inline</span>
 │  │           ├─ <span class="formatting-rule">emphasis</span>
 │  │           │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │           │  ├─ <span class="formatting-rule">bold</span>
 │  │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │           │  └─ <span class="formatting-rule">italic</span>
 │  │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │           ├─ escaped_char
 │  │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │           ├─ <span class="text-rule">word</span>
 │  │           │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │           │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
 │  │           ├─ safe_punct
 │  │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │           └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
 │  ├─ <span class="block-rule">blockquote</span>
 │  │  └─ <span class="block-rule">blockquote_line</span>
 │  │     └─ <span class="inline-rule">inline</span>
 │  │        ├─ <span class="inline-rule">inline_core</span>
 │  │        │  ├─ escaped_char
 │  │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │        │  ├─ <span class="inline-rule">inline_link</span>
 │  │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │  │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │  │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │  │        │  │  └─ <span class="inline-rule">autolink</span>
 │  │        │  │     ├─ <span class="inline-rule">autolink_email</span>
 │  │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │        │  │     └─ <span class="inline-rule">autolink_url</span>
 │  │        │  │        └─ <span class="inline-rule">link_url</span> = @{
 │  │        │  ├─ <span class="inline-rule">inline_image</span>
 │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │        │  ├─ <span class="inline-rule">autolink</span>
 │  │        │  │  ├─ <span class="inline-rule">autolink_email</span>
 │  │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │        │  │  └─ <span class="inline-rule">autolink_url</span>
 │  │        │  │     └─ <span class="inline-rule">link_url</span> = @{
 │  │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
 │  │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │  │        │  ├─ <span class="formatting-rule">emphasis</span>
 │  │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │        │  │  ├─ <span class="formatting-rule">bold</span>
 │  │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  │  └─ <span class="formatting-rule">italic</span>
 │  │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │        │  ├─ <span class="block-rule">strikethrough</span>
 │  │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │  │        │  ├─ <span class="formatting-rule">subscript</span>
 │  │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │  │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │  │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │  │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │  │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │  │        │  ├─ <span class="inline-rule">footnote_ref</span>
 │  │        │  │  └─ <span class="inline-rule">footnote_label</span>
 │  │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │        │  ├─ <span class="inline-rule">macro_inline</span>
 │  │        │  │  ├─ <span class="macro-rule">user_mention</span>
 │  │        │  │  │  ├─ username
 │  │        │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │  │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │  │        │  │  ├─ <span class="inline-rule">run_inline</span>
 │  │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │  │        │  │  │  └─ script_type
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │  │        │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │  │        │  │  ├─ page_tag
 │  │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │  │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │  │        │  │  └─ doc_ref
 │  │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │  │        │  │     └─ local_path = @{
 │  │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
 │  │        │  └─ <span class="text-rule">text</span> = @{
 │  │        └─ <span class="inline-rule">inline_task_item</span>
 │  │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │  │           ├─ <span class="circular">inline</span>
 │  │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │  ├─ <span class="block-rule">table</span>
 │  │  ├─ <span class="block-rule">table_header</span>
 │  │  │  └─ <span class="block-rule">table_cell</span>
 │  │  │     └─ <span class="block-rule">table_cell_content</span>
 │  │  │        ├─ escaped_char
 │  │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  │        ├─ <span class="inline-rule">inline_link</span>
 │  │  │        │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │  │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │  │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │  │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │  │        │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │  │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │  │        │  │  └─ <span class="inline-rule">link_url</span> = @{
 │  │  │        │  └─ <span class="inline-rule">autolink</span>
 │  │  │        │     ├─ <span class="inline-rule">autolink_email</span>
 │  │  │        │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │  │        │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │  │        │     └─ <span class="inline-rule">autolink_url</span>
 │  │  │        │        └─ <span class="inline-rule">link_url</span> = @{
 │  │  │        ├─ <span class="inline-rule">inline_image</span>
 │  │  │        │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │  │        │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │  │        │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  │        ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │  │  │        ├─ <span class="formatting-rule">emphasis</span>
 │  │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │        │  ├─ <span class="formatting-rule">bold</span>
 │  │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="formatting-rule">italic</span>
 │  │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  │        ├─ <span class="block-rule">strikethrough</span>
 │  │  │        │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │        ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │  │  │        ├─ <span class="formatting-rule">subscript</span>
 │  │  │        │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │  │  │        │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │  │  │        ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │  │  │        ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │  │  │        ├─ <span class="inline-rule">footnote_ref</span>
 │  │  │        │  └─ <span class="inline-rule">footnote_label</span>
 │  │  │        │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        ├─ <span class="inline-rule">macro_inline</span>
 │  │  │        │  ├─ <span class="macro-rule">user_mention</span>
 │  │  │        │  │  ├─ username
 │  │  │        │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │        │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │  │  │        │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │  │  │        │  ├─ <span class="inline-rule">run_inline</span>
 │  │  │        │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │  │  │        │  │  └─ script_type
 │  │  │        │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │  │  │        │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │  │  │        │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │  │  │        │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │  │  │        │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │  │  │        │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │  │  │        │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │  │  │        │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │  │  │        │  ├─ page_tag
 │  │  │        │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │  │  │        │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │  │  │        │  └─ doc_ref
 │  │  │        │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │  │  │        │     └─ local_path = @{
 │  │  │        └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
 │  │  ├─ <span class="block-rule">table_sep</span>
 │  │  │  └─ <span class="block-rule">table_sep_cell</span> =  { WHITESPACE* ~ &quot;:&quot;? ~ &quot;-&quot;+ ~ &quot;:&quot;? ~...
 │  │  └─ <span class="block-rule">table_row</span>
 │  │     └─ <span class="block-rule">table_cell</span>
 │  │        └─ <span class="block-rule">table_cell_content</span>
 │  │           ├─ escaped_char
 │  │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │           ├─ <span class="inline-rule">inline_link</span>
 │  │           │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │  │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │           │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │           │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │           │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │  │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │           │  │  └─ <span class="inline-rule">link_url</span> = @{
 │  │           │  └─ <span class="inline-rule">autolink</span>
 │  │           │     ├─ <span class="inline-rule">autolink_email</span>
 │  │           │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │           │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │           │     └─ <span class="inline-rule">autolink_url</span>
 │  │           │        └─ <span class="inline-rule">link_url</span> = @{
 │  │           ├─ <span class="inline-rule">inline_image</span>
 │  │           │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │           │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │           │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │           ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │  │           ├─ <span class="formatting-rule">emphasis</span>
 │  │           │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │           │  ├─ <span class="formatting-rule">bold</span>
 │  │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │           │  └─ <span class="formatting-rule">italic</span>
 │  │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │           ├─ <span class="block-rule">strikethrough</span>
 │  │           │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │  │           │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │  │           ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │  │           ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │  │           ├─ <span class="formatting-rule">subscript</span>
 │  │           │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │  │           │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │  │           ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │  │           ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │  │           ├─ <span class="inline-rule">footnote_ref</span>
 │  │           │  └─ <span class="inline-rule">footnote_label</span>
 │  │           │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │           ├─ <span class="inline-rule">macro_inline</span>
 │  │           │  ├─ <span class="macro-rule">user_mention</span>
 │  │           │  │  ├─ username
 │  │           │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │           │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │  │           │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │  │           │  ├─ <span class="inline-rule">run_inline</span>
 │  │           │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │  │           │  │  └─ script_type
 │  │           │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │  │           │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │  │           │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │  │           │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │  │           │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │  │           │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │  │           │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │  │           │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │  │           │  ├─ page_tag
 │  │           │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │  │           │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │  │           │  └─ doc_ref
 │  │           │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │  │           │     └─ local_path = @{
 │  │           └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
 │  ├─ <span class="block-rule">list</span>
 │  │  └─ <span class="block-rule">list_item</span>
 │  │     ├─ INDENT_OPT = _{ (&quot; &quot; | &quot;\t&quot;)* }
 │  │     ├─ <span class="block-rule">task_list_item</span>
 │  │     │  ├─ <span class="block-rule">list_marker</span>
 │  │     │  │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
 │  │     │  │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
 │  │     │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │  │     │  ├─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
 │  │     │  └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │  │     └─ <span class="block-rule">regular_list_item</span>
 │  │        ├─ <span class="block-rule">list_marker</span>
 │  │        │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
 │  │        │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
 │  │        ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │  │        └─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
 │  ├─ <span class="block-rule">macro_block</span>
 │  │  ├─ <span class="block-rule">admonition_block</span>
 │  │  │  ├─ <span class="block-rule">admonition_open</span>
 │  │  │  │  └─ <span class="block-rule">admonition_type</span>
 │  │  │  │     ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
 │  │  │  │     └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
 │  │  │  ├─ <span class="block-rule">admonition_emoji</span> = { &quot;:::&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; ~...
 │  │  │  ├─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
 │  │  │  └─ admo_nest
 │  │  │     ├─ <span class="circular">admonition_block</span>
 │  │  │     └─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
 │  │  ├─ <span class="block-rule">run_block_fenced</span>
 │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │  │  │  └─ script_type
 │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │  │  ├─ diagram_fenced
 │  │  │  └─ diagram_type
 │  │  │     ├─ <span class="keyword-rule">KW_MERMAID</span> = @{ ^&quot;mermaid&quot; }
 │  │  │     └─ <span class="keyword-rule">KW_GRAPHVIZ</span> = @{ ^&quot;graphviz&quot; }
 │  │  ├─ <span class="macro-rule">bookmark</span>
 │  │  │  ├─ <span class="macro-rule">KW_BOOKMARK</span>
 │  │  │  │  └─ <span class="circular">bookmark</span>
 │  │  │  └─ local_path = @{
 │  │  ├─ <span class="block-rule">block_youtube</span>
 │  │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │  │  │  └─ youtube_url
 │  │  │     └─ URL_SAFE
 │  │  │        └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  ├─ <span class="block-rule">block_image</span>
 │  │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │  │  │  └─ <span class="inline-rule">image_url</span>
 │  │  │     ├─ http_url
 │  │  │     │  └─ URL_SAFE
 │  │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │     ├─ www_url
 │  │  │     │  └─ URL_SAFE
 │  │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │     ├─ local_path = @{
 │  │  │     └─ <span class="inline-rule">image_ext</span> = @{ &quot;.&quot; ~ (^&quot;jpg&quot; | ^&quot;jpeg&quot; | ^&quot;png&quot; |...
 │  │  └─ <span class="block-rule">tab_block</span>
 │  │     ├─ <span class="macro-rule">tab_header</span>
 │  │     │  ├─ <span class="macro-rule">KW_TAB</span>
 │  │     │  │  └─ <span class="macro-rule">tab</span>
 │  │     │  │     ├─ <span class="macro-rule">tab_line</span>
 │  │     │  │     │  ├─ <span class="circular">KW_TAB</span>
 │  │     │  │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │  │     │  │     └─ <span class="macro-rule">tab_content_II</span>
 │  │     │  │        ├─ <span class="macro-rule">tab_line</span>
 │  │     │  │        │  ├─ <span class="circular">KW_TAB</span>
 │  │     │  │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │  │     │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │  │     │  └─ <span class="macro-rule">tab_title</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │  │     ├─ <span class="macro-rule">tabs_content_I</span>
 │  │     │  ├─ <span class="macro-rule">tab_content_line</span>
 │  │     │  │  ├─ <span class="macro-rule">tab_line</span>
 │  │     │  │  │  ├─ <span class="macro-rule">KW_TAB</span>
 │  │     │  │  │  │  └─ <span class="macro-rule">tab</span>
 │  │     │  │  │  │     ├─ <span class="circular">tab_line</span>
 │  │     │  │  │  │     └─ <span class="macro-rule">tab_content_II</span>
 │  │     │  │  │  │        ├─ <span class="circular">tab_line</span>
 │  │     │  │  │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │  │     │  │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │  │     │  │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │  │     │  └─ <span class="macro-rule">tab</span>
 │  │     │     ├─ <span class="macro-rule">tab_line</span>
 │  │     │     │  ├─ <span class="macro-rule">KW_TAB</span>
 │  │     │     │  │  └─ <span class="circular">tab</span>
 │  │     │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │  │     │     └─ <span class="macro-rule">tab_content_II</span>
 │  │     │        ├─ <span class="macro-rule">tab_line</span>
 │  │     │        │  ├─ <span class="macro-rule">KW_TAB</span>
 │  │     │        │  │  └─ <span class="circular">tab</span>
 │  │     │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
 │  │     │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │  │     └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
 │  ├─ <span class="inline-rule">footnote_def</span>
 │  │  └─ <span class="inline-rule">footnote_label</span>
 │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  ├─ reference_definition
 │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │  │  ├─ <span class="inline-rule">inline_link</span>
 │  │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │  │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │  │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │  │  │  └─ <span class="inline-rule">autolink</span>
 │  │  │     ├─ <span class="inline-rule">autolink_email</span>
 │  │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │  │     └─ <span class="inline-rule">autolink_url</span>
 │  │  │        └─ <span class="inline-rule">link_url</span> = @{
 │  │  └─ ref_title = { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot; ...
 │  ├─ <span class="inline-rule">reference_link</span>
 │  │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │  ├─ <span class="inline-rule">reference_image</span>
 │  │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
 │  ├─ <span class="block-rule">def_list</span>
 │  │  ├─ term_line = @{ (!NEWLINE ~ ANY)+ }
 │  │  └─ def_line =  { &quot;:&quot; ~ &quot; &quot; ~ (!NEWLINE ~ ANY)+ }
 │  ├─ <span class="block-rule">block_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │  ├─ <span class="block-rule">block_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY | NEWLINE)* ~ &quot;&gt;&quot; }
 │  ├─ <span class="block-rule">paragraph</span>
 │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
 │  │  ├─ <span class="block-rule">block_start</span> = _{
 │  │  └─ <span class="block-rule">paragraph_line</span>
 │  │     └─ <span class="inline-rule">inline</span>
 │  │        ├─ <span class="inline-rule">inline_core</span>
 │  │        │  ├─ escaped_char
 │  │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │        │  ├─ <span class="inline-rule">inline_link</span>
 │  │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │  │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │  │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │  │        │  │  └─ <span class="inline-rule">autolink</span>
 │  │        │  │     ├─ <span class="inline-rule">autolink_email</span>
 │  │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │        │  │     └─ <span class="inline-rule">autolink_url</span>
 │  │        │  │        └─ <span class="inline-rule">link_url</span> = @{
 │  │        │  ├─ <span class="inline-rule">inline_image</span>
 │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │        │  ├─ <span class="inline-rule">autolink</span>
 │  │        │  │  ├─ <span class="inline-rule">autolink_email</span>
 │  │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │        │  │  └─ <span class="inline-rule">autolink_url</span>
 │  │        │  │     └─ <span class="inline-rule">link_url</span> = @{
 │  │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
 │  │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │  │        │  ├─ <span class="formatting-rule">emphasis</span>
 │  │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │        │  │  ├─ <span class="formatting-rule">bold</span>
 │  │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  │  └─ <span class="formatting-rule">italic</span>
 │  │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │        │  ├─ <span class="block-rule">strikethrough</span>
 │  │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │  │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │  │        │  ├─ <span class="formatting-rule">subscript</span>
 │  │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │  │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │  │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │  │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │  │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │  │        │  ├─ <span class="inline-rule">footnote_ref</span>
 │  │        │  │  └─ <span class="inline-rule">footnote_label</span>
 │  │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │        │  ├─ <span class="inline-rule">macro_inline</span>
 │  │        │  │  ├─ <span class="macro-rule">user_mention</span>
 │  │        │  │  │  ├─ username
 │  │        │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │  │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │  │        │  │  ├─ <span class="inline-rule">run_inline</span>
 │  │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │  │        │  │  │  └─ script_type
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │  │        │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │  │        │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │  │        │  │  ├─ page_tag
 │  │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │  │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │  │        │  │  └─ doc_ref
 │  │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │  │        │  │     └─ local_path = @{
 │  │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
 │  │        │  └─ <span class="text-rule">text</span> = @{
 │  │        └─ <span class="inline-rule">inline_task_item</span>
 │  │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │  │           ├─ <span class="circular">inline</span>
 │  │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 │  └─ <span class="block-rule">unknown_block</span> = { (!NEWLINE ~ ANY)+ }
 ├─ <span class="inline-rule">inline</span>
 │  ├─ <span class="inline-rule">inline_core</span>
 │  │  ├─ escaped_char
 │  │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
 │  │  ├─ <span class="inline-rule">inline_link</span>
 │  │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
 │  │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
 │  │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │  │  │  └─ <span class="inline-rule">link_url</span> = @{
 │  │  │  └─ <span class="inline-rule">autolink</span>
 │  │  │     ├─ <span class="inline-rule">autolink_email</span>
 │  │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │  │     └─ <span class="inline-rule">autolink_url</span>
 │  │  │        └─ <span class="inline-rule">link_url</span> = @{
 │  │  ├─ <span class="inline-rule">inline_image</span>
 │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
 │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
 │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
 │  │  ├─ <span class="inline-rule">autolink</span>
 │  │  │  ├─ <span class="inline-rule">autolink_email</span>
 │  │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
 │  │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
 │  │  │  └─ <span class="inline-rule">autolink_url</span>
 │  │  │     └─ <span class="inline-rule">link_url</span> = @{
 │  │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
 │  │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
 │  │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
 │  │  ├─ <span class="formatting-rule">emphasis</span>
 │  │  │  ├─ <span class="formatting-rule">bold_italic</span>
 │  │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
 │  │  │  ├─ <span class="formatting-rule">bold</span>
 │  │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │  └─ <span class="formatting-rule">italic</span>
 │  │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
 │  │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
 │  │  ├─ <span class="block-rule">strikethrough</span>
 │  │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
 │  │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
 │  │  ├─ <span class="formatting-rule">subscript</span>
 │  │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
 │  │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
 │  │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
 │  │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
 │  │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
 │  │  ├─ <span class="inline-rule">footnote_ref</span>
 │  │  │  └─ <span class="inline-rule">footnote_label</span>
 │  │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  ├─ <span class="inline-rule">macro_inline</span>
 │  │  │  ├─ <span class="macro-rule">user_mention</span>
 │  │  │  │  ├─ username
 │  │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
 │  │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
 │  │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
 │  │  │  ├─ <span class="inline-rule">run_inline</span>
 │  │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
 │  │  │  │  └─ script_type
 │  │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
 │  │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
 │  │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
 │  │  │  ├─ page_tag
 │  │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
 │  │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
 │  │  │  └─ doc_ref
 │  │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
 │  │  │     └─ local_path = @{
 │  │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
 │  │  └─ <span class="text-rule">text</span> = @{
 │  └─ <span class="inline-rule">inline_task_item</span>
 │     ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
 │     ├─ <span class="circular">inline</span>
 │     └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
 └─ Other Rules
    ├─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    ├─ <span class="block-rule">strikethrough</span>
    │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
    ├─ language_id = @{ ASCII_ALPHA+ ~ (ASCII_ALPHANUMERIC...
    ├─ <span class="macro-rule">tab_line</span>
    │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │  └─ <span class="macro-rule">tab</span>
    │  │     ├─ <span class="circular">tab_line</span>
    │  │     └─ <span class="macro-rule">tab_content_II</span>
    │  │        ├─ <span class="circular">tab_line</span>
    │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    ├─ <span class="inline-rule">image_url</span>
    │  ├─ http_url
    │  │  └─ URL_SAFE
    │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  ├─ www_url
    │  │  └─ URL_SAFE
    │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  ├─ local_path = @{
    │  └─ <span class="inline-rule">image_ext</span> = @{ &quot;.&quot; ~ (^&quot;jpg&quot; | ^&quot;jpeg&quot; | ^&quot;png&quot; |...
    ├─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
    ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    ├─ <span class="inline-rule">reference_link</span>
    │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    ├─ <span class="inline-rule">reference_image</span>
    │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    ├─ ref_title = { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot; ...
    ├─ <span class="block-rule">block_youtube</span>
    │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │  └─ youtube_url
    │     └─ URL_SAFE
    │        └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    ├─ <span class="inline-rule">inline_core</span>
    │  ├─ escaped_char
    │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  ├─ <span class="inline-rule">inline_link</span>
    │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │  │  └─ <span class="inline-rule">autolink</span>
    │  │     ├─ <span class="inline-rule">autolink_email</span>
    │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │  │     └─ <span class="inline-rule">autolink_url</span>
    │  │        └─ <span class="inline-rule">link_url</span> = @{
    │  ├─ <span class="inline-rule">inline_image</span>
    │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  ├─ <span class="inline-rule">autolink</span>
    │  │  ├─ <span class="inline-rule">autolink_email</span>
    │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │  │  └─ <span class="inline-rule">autolink_url</span>
    │  │     └─ <span class="inline-rule">link_url</span> = @{
    │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │  ├─ <span class="formatting-rule">emphasis</span>
    │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │  ├─ <span class="formatting-rule">bold</span>
    │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  └─ <span class="formatting-rule">italic</span>
    │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  ├─ <span class="block-rule">strikethrough</span>
    │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │  ├─ <span class="formatting-rule">subscript</span>
    │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │  ├─ <span class="inline-rule">footnote_ref</span>
    │  │  └─ <span class="inline-rule">footnote_label</span>
    │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  ├─ <span class="inline-rule">macro_inline</span>
    │  │  ├─ <span class="macro-rule">user_mention</span>
    │  │  │  ├─ username
    │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │  │  ├─ <span class="inline-rule">run_inline</span>
    │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │  │  │  └─ script_type
    │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │  │  ├─ page_tag
    │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │  │  └─ doc_ref
    │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │  │     └─ local_path = @{
    │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    │  └─ <span class="text-rule">text</span> = @{
    ├─ <span class="text-rule">text</span> = @{
    ├─ heading_content
    │  └─ <span class="inline-rule">heading_inline</span>
    │     ├─ <span class="formatting-rule">emphasis</span>
    │     │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  ├─ <span class="formatting-rule">bold</span>
    │     │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  └─ <span class="formatting-rule">italic</span>
    │     │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     ├─ escaped_char
    │     │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     ├─ <span class="text-rule">word</span>
    │     │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     ├─ safe_punct
    │     │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ section
    │  ├─ BLANK_LINE = _{ WHITESPACE* ~ NEWLINE }
    │  └─ <span class="block-rule">block</span>
    │     ├─ <span class="block-rule">code_block</span>
    │     │  ├─ fenced_code
    │     │  │  └─ language_id = @{ ASCII_ALPHA+ ~ (ASCII_ALPHANUMERIC...
    │     │  └─ indented_code
    │     │     └─ INDENT = _{ &quot; &quot;{4} | &quot;\t&quot; }
    │     ├─ <span class="block-rule">math_block</span> = { &quot;$$&quot; ~ (!&quot;$$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ...
    │     ├─ <span class="block-rule">hr</span> = { WHITESPACE* ~ (&quot;---&quot; | &quot;***&quot; | &quot;___...
    │     ├─ heading
    │     │  ├─ H6
    │     │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │  │  └─ heading_content
    │     │  │     └─ <span class="inline-rule">heading_inline</span>
    │     │  │        ├─ <span class="formatting-rule">emphasis</span>
    │     │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  ├─ <span class="formatting-rule">bold</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="formatting-rule">italic</span>
    │     │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  │        ├─ escaped_char
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        ├─ <span class="text-rule">word</span>
    │     │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     │  │        ├─ safe_punct
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │     │  ├─ H5
    │     │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │  │  └─ heading_content
    │     │  │     └─ <span class="inline-rule">heading_inline</span>
    │     │  │        ├─ <span class="formatting-rule">emphasis</span>
    │     │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  ├─ <span class="formatting-rule">bold</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="formatting-rule">italic</span>
    │     │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  │        ├─ escaped_char
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        ├─ <span class="text-rule">word</span>
    │     │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     │  │        ├─ safe_punct
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │     │  ├─ H4
    │     │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │  │  └─ heading_content
    │     │  │     └─ <span class="inline-rule">heading_inline</span>
    │     │  │        ├─ <span class="formatting-rule">emphasis</span>
    │     │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  ├─ <span class="formatting-rule">bold</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="formatting-rule">italic</span>
    │     │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  │        ├─ escaped_char
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        ├─ <span class="text-rule">word</span>
    │     │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     │  │        ├─ safe_punct
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │     │  ├─ H3
    │     │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │  │  └─ heading_content
    │     │  │     └─ <span class="inline-rule">heading_inline</span>
    │     │  │        ├─ <span class="formatting-rule">emphasis</span>
    │     │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  ├─ <span class="formatting-rule">bold</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="formatting-rule">italic</span>
    │     │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  │        ├─ escaped_char
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        ├─ <span class="text-rule">word</span>
    │     │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     │  │        ├─ safe_punct
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │     │  ├─ H2
    │     │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │  │  └─ heading_content
    │     │  │     └─ <span class="inline-rule">heading_inline</span>
    │     │  │        ├─ <span class="formatting-rule">emphasis</span>
    │     │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  ├─ <span class="formatting-rule">bold</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="formatting-rule">italic</span>
    │     │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  │        ├─ escaped_char
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        ├─ <span class="text-rule">word</span>
    │     │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     │  │        ├─ safe_punct
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │     │  ├─ H1
    │     │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │  │  └─ heading_content
    │     │  │     └─ <span class="inline-rule">heading_inline</span>
    │     │  │        ├─ <span class="formatting-rule">emphasis</span>
    │     │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  ├─ <span class="formatting-rule">bold</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="formatting-rule">italic</span>
    │     │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  │        ├─ escaped_char
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        ├─ <span class="text-rule">word</span>
    │     │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     │  │        ├─ safe_punct
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │     │  ├─ <span class="text-rule">setext_h2</span>
    │     │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │  │  └─ heading_content
    │     │  │     └─ <span class="inline-rule">heading_inline</span>
    │     │  │        ├─ <span class="formatting-rule">emphasis</span>
    │     │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  ├─ <span class="formatting-rule">bold</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="formatting-rule">italic</span>
    │     │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  │        ├─ escaped_char
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        ├─ <span class="text-rule">word</span>
    │     │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     │  │        ├─ safe_punct
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │     │  └─ <span class="text-rule">setext_h1</span>
    │     │     ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │     └─ heading_content
    │     │        └─ <span class="inline-rule">heading_inline</span>
    │     │           ├─ <span class="formatting-rule">emphasis</span>
    │     │           │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │           │  ├─ <span class="formatting-rule">bold</span>
    │     │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │           │  └─ <span class="formatting-rule">italic</span>
    │     │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │           ├─ escaped_char
    │     │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │           ├─ <span class="text-rule">word</span>
    │     │           │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │           │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │     │           ├─ safe_punct
    │     │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │           └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │     ├─ <span class="block-rule">blockquote</span>
    │     │  └─ <span class="block-rule">blockquote_line</span>
    │     │     └─ <span class="inline-rule">inline</span>
    │     │        ├─ <span class="inline-rule">inline_core</span>
    │     │        │  ├─ escaped_char
    │     │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │        │  ├─ <span class="inline-rule">inline_link</span>
    │     │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │     │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │     │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │     │        │  │  └─ <span class="inline-rule">autolink</span>
    │     │        │  │     ├─ <span class="inline-rule">autolink_email</span>
    │     │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │        │  │     └─ <span class="inline-rule">autolink_url</span>
    │     │        │  │        └─ <span class="inline-rule">link_url</span> = @{
    │     │        │  ├─ <span class="inline-rule">inline_image</span>
    │     │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │        │  ├─ <span class="inline-rule">autolink</span>
    │     │        │  │  ├─ <span class="inline-rule">autolink_email</span>
    │     │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │        │  │  └─ <span class="inline-rule">autolink_url</span>
    │     │        │  │     └─ <span class="inline-rule">link_url</span> = @{
    │     │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    │     │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │     │        │  ├─ <span class="formatting-rule">emphasis</span>
    │     │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │        │  │  ├─ <span class="formatting-rule">bold</span>
    │     │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  │  └─ <span class="formatting-rule">italic</span>
    │     │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │        │  ├─ <span class="block-rule">strikethrough</span>
    │     │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │     │        │  ├─ <span class="formatting-rule">subscript</span>
    │     │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │     │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │     │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │     │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │     │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │     │        │  ├─ <span class="inline-rule">footnote_ref</span>
    │     │        │  │  └─ <span class="inline-rule">footnote_label</span>
    │     │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │        │  ├─ <span class="inline-rule">macro_inline</span>
    │     │        │  │  ├─ <span class="macro-rule">user_mention</span>
    │     │        │  │  │  ├─ username
    │     │        │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │     │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │     │        │  │  ├─ <span class="inline-rule">run_inline</span>
    │     │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │     │        │  │  │  └─ script_type
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     │        │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │     │        │  │  ├─ page_tag
    │     │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │     │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │     │        │  │  └─ doc_ref
    │     │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │     │        │  │     └─ local_path = @{
    │     │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    │     │        │  └─ <span class="text-rule">text</span> = @{
    │     │        └─ <span class="inline-rule">inline_task_item</span>
    │     │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │     │           ├─ <span class="circular">inline</span>
    │     │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    │     ├─ <span class="block-rule">table</span>
    │     │  ├─ <span class="block-rule">table_header</span>
    │     │  │  └─ <span class="block-rule">table_cell</span>
    │     │  │     └─ <span class="block-rule">table_cell_content</span>
    │     │  │        ├─ escaped_char
    │     │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  │        ├─ <span class="inline-rule">inline_link</span>
    │     │  │        │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │     │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │  │        │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │     │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │        │  │  └─ <span class="inline-rule">link_url</span> = @{
    │     │  │        │  └─ <span class="inline-rule">autolink</span>
    │     │  │        │     ├─ <span class="inline-rule">autolink_email</span>
    │     │  │        │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │  │        │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │  │        │     └─ <span class="inline-rule">autolink_url</span>
    │     │  │        │        └─ <span class="inline-rule">link_url</span> = @{
    │     │  │        ├─ <span class="inline-rule">inline_image</span>
    │     │  │        │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │        │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  │        │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  │        ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │     │  │        ├─ <span class="formatting-rule">emphasis</span>
    │     │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │        │  ├─ <span class="formatting-rule">bold</span>
    │     │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="formatting-rule">italic</span>
    │     │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  │        ├─ <span class="block-rule">strikethrough</span>
    │     │  │        │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │        ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │     │  │        ├─ <span class="formatting-rule">subscript</span>
    │     │  │        │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │     │  │        │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │     │  │        ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │     │  │        ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │     │  │        ├─ <span class="inline-rule">footnote_ref</span>
    │     │  │        │  └─ <span class="inline-rule">footnote_label</span>
    │     │  │        │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        ├─ <span class="inline-rule">macro_inline</span>
    │     │  │        │  ├─ <span class="macro-rule">user_mention</span>
    │     │  │        │  │  ├─ username
    │     │  │        │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │        │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │     │  │        │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │     │  │        │  ├─ <span class="inline-rule">run_inline</span>
    │     │  │        │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │     │  │        │  │  └─ script_type
    │     │  │        │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     │  │        │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     │  │        │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     │  │        │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     │  │        │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     │  │        │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     │  │        │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     │  │        │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │     │  │        │  ├─ page_tag
    │     │  │        │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │     │  │        │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │     │  │        │  └─ doc_ref
    │     │  │        │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │     │  │        │     └─ local_path = @{
    │     │  │        └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    │     │  ├─ <span class="block-rule">table_sep</span>
    │     │  │  └─ <span class="block-rule">table_sep_cell</span> =  { WHITESPACE* ~ &quot;:&quot;? ~ &quot;-&quot;+ ~ &quot;:&quot;? ~...
    │     │  └─ <span class="block-rule">table_row</span>
    │     │     └─ <span class="block-rule">table_cell</span>
    │     │        └─ <span class="block-rule">table_cell_content</span>
    │     │           ├─ escaped_char
    │     │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │           ├─ <span class="inline-rule">inline_link</span>
    │     │           │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │     │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │           │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │           │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │           │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │     │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │           │  │  └─ <span class="inline-rule">link_url</span> = @{
    │     │           │  └─ <span class="inline-rule">autolink</span>
    │     │           │     ├─ <span class="inline-rule">autolink_email</span>
    │     │           │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │           │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │           │     └─ <span class="inline-rule">autolink_url</span>
    │     │           │        └─ <span class="inline-rule">link_url</span> = @{
    │     │           ├─ <span class="inline-rule">inline_image</span>
    │     │           │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │           │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │           │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │           ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │     │           ├─ <span class="formatting-rule">emphasis</span>
    │     │           │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │           │  ├─ <span class="formatting-rule">bold</span>
    │     │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │           │  └─ <span class="formatting-rule">italic</span>
    │     │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │           ├─ <span class="block-rule">strikethrough</span>
    │     │           │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │     │           │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │     │           ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │     │           ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │     │           ├─ <span class="formatting-rule">subscript</span>
    │     │           │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │     │           │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │     │           ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │     │           ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │     │           ├─ <span class="inline-rule">footnote_ref</span>
    │     │           │  └─ <span class="inline-rule">footnote_label</span>
    │     │           │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │           ├─ <span class="inline-rule">macro_inline</span>
    │     │           │  ├─ <span class="macro-rule">user_mention</span>
    │     │           │  │  ├─ username
    │     │           │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │           │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │     │           │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │     │           │  ├─ <span class="inline-rule">run_inline</span>
    │     │           │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │     │           │  │  └─ script_type
    │     │           │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     │           │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     │           │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     │           │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     │           │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     │           │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     │           │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     │           │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │     │           │  ├─ page_tag
    │     │           │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │     │           │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │     │           │  └─ doc_ref
    │     │           │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │     │           │     └─ local_path = @{
    │     │           └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    │     ├─ <span class="block-rule">list</span>
    │     │  └─ <span class="block-rule">list_item</span>
    │     │     ├─ INDENT_OPT = _{ (&quot; &quot; | &quot;\t&quot;)* }
    │     │     ├─ <span class="block-rule">task_list_item</span>
    │     │     │  ├─ <span class="block-rule">list_marker</span>
    │     │     │  │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │     │     │  │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    │     │     │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │     │     │  ├─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    │     │     │  └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    │     │     └─ <span class="block-rule">regular_list_item</span>
    │     │        ├─ <span class="block-rule">list_marker</span>
    │     │        │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │     │        │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    │     │        ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │     │        └─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    │     ├─ <span class="block-rule">macro_block</span>
    │     │  ├─ <span class="block-rule">admonition_block</span>
    │     │  │  ├─ <span class="block-rule">admonition_open</span>
    │     │  │  │  └─ <span class="block-rule">admonition_type</span>
    │     │  │  │     ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
    │     │  │  │     └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
    │     │  │  ├─ <span class="block-rule">admonition_emoji</span> = { &quot;:::&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; ~...
    │     │  │  ├─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    │     │  │  └─ admo_nest
    │     │  │     ├─ <span class="circular">admonition_block</span>
    │     │  │     └─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    │     │  ├─ <span class="block-rule">run_block_fenced</span>
    │     │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │     │  │  └─ script_type
    │     │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │     │  ├─ diagram_fenced
    │     │  │  └─ diagram_type
    │     │  │     ├─ <span class="keyword-rule">KW_MERMAID</span> = @{ ^&quot;mermaid&quot; }
    │     │  │     └─ <span class="keyword-rule">KW_GRAPHVIZ</span> = @{ ^&quot;graphviz&quot; }
    │     │  ├─ <span class="macro-rule">bookmark</span>
    │     │  │  ├─ <span class="macro-rule">KW_BOOKMARK</span>
    │     │  │  │  └─ <span class="circular">bookmark</span>
    │     │  │  └─ local_path = @{
    │     │  ├─ <span class="block-rule">block_youtube</span>
    │     │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │     │  │  └─ youtube_url
    │     │  │     └─ URL_SAFE
    │     │  │        └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  ├─ <span class="block-rule">block_image</span>
    │     │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │     │  │  └─ <span class="inline-rule">image_url</span>
    │     │  │     ├─ http_url
    │     │  │     │  └─ URL_SAFE
    │     │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │     ├─ www_url
    │     │  │     │  └─ URL_SAFE
    │     │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │     ├─ local_path = @{
    │     │  │     └─ <span class="inline-rule">image_ext</span> = @{ &quot;.&quot; ~ (^&quot;jpg&quot; | ^&quot;jpeg&quot; | ^&quot;png&quot; |...
    │     │  └─ <span class="block-rule">tab_block</span>
    │     │     ├─ <span class="macro-rule">tab_header</span>
    │     │     │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │     │  │  └─ <span class="macro-rule">tab</span>
    │     │     │  │     ├─ <span class="macro-rule">tab_line</span>
    │     │     │  │     │  ├─ <span class="circular">KW_TAB</span>
    │     │     │  │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │     │  │     └─ <span class="macro-rule">tab_content_II</span>
    │     │     │  │        ├─ <span class="macro-rule">tab_line</span>
    │     │     │  │        │  ├─ <span class="circular">KW_TAB</span>
    │     │     │  │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │     │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     │     │  └─ <span class="macro-rule">tab_title</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │     ├─ <span class="macro-rule">tabs_content_I</span>
    │     │     │  ├─ <span class="macro-rule">tab_content_line</span>
    │     │     │  │  ├─ <span class="macro-rule">tab_line</span>
    │     │     │  │  │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │     │  │  │  │  └─ <span class="macro-rule">tab</span>
    │     │     │  │  │  │     ├─ <span class="circular">tab_line</span>
    │     │     │  │  │  │     └─ <span class="macro-rule">tab_content_II</span>
    │     │     │  │  │  │        ├─ <span class="circular">tab_line</span>
    │     │     │  │  │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     │     │  │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │     │  │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     │     │  └─ <span class="macro-rule">tab</span>
    │     │     │     ├─ <span class="macro-rule">tab_line</span>
    │     │     │     │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │     │     │  │  └─ <span class="circular">tab</span>
    │     │     │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │     │     └─ <span class="macro-rule">tab_content_II</span>
    │     │     │        ├─ <span class="macro-rule">tab_line</span>
    │     │     │        │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │     │        │  │  └─ <span class="circular">tab</span>
    │     │     │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │     │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     │     └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     ├─ <span class="inline-rule">footnote_def</span>
    │     │  └─ <span class="inline-rule">footnote_label</span>
    │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     ├─ reference_definition
    │     │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │     │  ├─ <span class="inline-rule">inline_link</span>
    │     │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │     │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │     │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │     │  │  └─ <span class="inline-rule">autolink</span>
    │     │  │     ├─ <span class="inline-rule">autolink_email</span>
    │     │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │  │     └─ <span class="inline-rule">autolink_url</span>
    │     │  │        └─ <span class="inline-rule">link_url</span> = @{
    │     │  └─ ref_title = { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot; ...
    │     ├─ <span class="inline-rule">reference_link</span>
    │     │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │     ├─ <span class="inline-rule">reference_image</span>
    │     │  └─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │     ├─ <span class="block-rule">def_list</span>
    │     │  ├─ term_line = @{ (!NEWLINE ~ ANY)+ }
    │     │  └─ def_line =  { &quot;:&quot; ~ &quot; &quot; ~ (!NEWLINE ~ ANY)+ }
    │     ├─ <span class="block-rule">block_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │     ├─ <span class="block-rule">block_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY | NEWLINE)* ~ &quot;&gt;&quot; }
    │     ├─ <span class="block-rule">paragraph</span>
    │     │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     │  ├─ <span class="block-rule">block_start</span> = _{
    │     │  └─ <span class="block-rule">paragraph_line</span>
    │     │     └─ <span class="inline-rule">inline</span>
    │     │        ├─ <span class="inline-rule">inline_core</span>
    │     │        │  ├─ escaped_char
    │     │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │        │  ├─ <span class="inline-rule">inline_link</span>
    │     │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │     │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │     │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │     │        │  │  └─ <span class="inline-rule">autolink</span>
    │     │        │  │     ├─ <span class="inline-rule">autolink_email</span>
    │     │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │        │  │     └─ <span class="inline-rule">autolink_url</span>
    │     │        │  │        └─ <span class="inline-rule">link_url</span> = @{
    │     │        │  ├─ <span class="inline-rule">inline_image</span>
    │     │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │        │  ├─ <span class="inline-rule">autolink</span>
    │     │        │  │  ├─ <span class="inline-rule">autolink_email</span>
    │     │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │        │  │  └─ <span class="inline-rule">autolink_url</span>
    │     │        │  │     └─ <span class="inline-rule">link_url</span> = @{
    │     │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    │     │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │     │        │  ├─ <span class="formatting-rule">emphasis</span>
    │     │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │        │  │  ├─ <span class="formatting-rule">bold</span>
    │     │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  │  └─ <span class="formatting-rule">italic</span>
    │     │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │        │  ├─ <span class="block-rule">strikethrough</span>
    │     │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │     │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │     │        │  ├─ <span class="formatting-rule">subscript</span>
    │     │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │     │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │     │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │     │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │     │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │     │        │  ├─ <span class="inline-rule">footnote_ref</span>
    │     │        │  │  └─ <span class="inline-rule">footnote_label</span>
    │     │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │        │  ├─ <span class="inline-rule">macro_inline</span>
    │     │        │  │  ├─ <span class="macro-rule">user_mention</span>
    │     │        │  │  │  ├─ username
    │     │        │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │     │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │     │        │  │  ├─ <span class="inline-rule">run_inline</span>
    │     │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │     │        │  │  │  └─ script_type
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     │        │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     │        │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │     │        │  │  ├─ page_tag
    │     │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │     │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │     │        │  │  └─ doc_ref
    │     │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │     │        │  │     └─ local_path = @{
    │     │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    │     │        │  └─ <span class="text-rule">text</span> = @{
    │     │        └─ <span class="inline-rule">inline_task_item</span>
    │     │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │     │           ├─ <span class="circular">inline</span>
    │     │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    │     └─ <span class="block-rule">unknown_block</span> = { (!NEWLINE ~ ANY)+ }
    ├─ <span class="text-rule">word</span>
    │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    ├─ <span class="inline-rule">inline_formatting_safe</span> = _{
    ├─ reference_definition
    │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │  ├─ <span class="inline-rule">inline_link</span>
    │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │  │  └─ <span class="inline-rule">autolink</span>
    │  │     ├─ <span class="inline-rule">autolink_email</span>
    │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │  │     └─ <span class="inline-rule">autolink_url</span>
    │  │        └─ <span class="inline-rule">link_url</span> = @{
    │  └─ ref_title = { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot; ...
    ├─ youtube_url
    │  └─ URL_SAFE
    │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ <span class="block-rule">math_block</span> = { &quot;$$&quot; ~ (!&quot;$$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ...
    ├─ <span class="block-rule">list_item</span>
    │  ├─ INDENT_OPT = _{ (&quot; &quot; | &quot;\t&quot;)* }
    │  ├─ <span class="block-rule">task_list_item</span>
    │  │  ├─ <span class="block-rule">list_marker</span>
    │  │  │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │  │  │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    │  │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │  │  ├─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    │  │  └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    │  └─ <span class="block-rule">regular_list_item</span>
    │     ├─ <span class="block-rule">list_marker</span>
    │     │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │     │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    │     ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │     └─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    ├─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    ├─ term_line = @{ (!NEWLINE ~ ANY)+ }
    ├─ <span class="block-rule">blockquote_line</span>
    │  └─ <span class="inline-rule">inline</span>
    │     ├─ <span class="inline-rule">inline_core</span>
    │     │  ├─ escaped_char
    │     │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  ├─ <span class="inline-rule">inline_link</span>
    │     │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │     │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │     │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │     │  │  └─ <span class="inline-rule">autolink</span>
    │     │  │     ├─ <span class="inline-rule">autolink_email</span>
    │     │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │  │     └─ <span class="inline-rule">autolink_url</span>
    │     │  │        └─ <span class="inline-rule">link_url</span> = @{
    │     │  ├─ <span class="inline-rule">inline_image</span>
    │     │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │  ├─ <span class="inline-rule">autolink</span>
    │     │  │  ├─ <span class="inline-rule">autolink_email</span>
    │     │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │  │  └─ <span class="inline-rule">autolink_url</span>
    │     │  │     └─ <span class="inline-rule">link_url</span> = @{
    │     │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    │     │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │     │  ├─ <span class="formatting-rule">emphasis</span>
    │     │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  ├─ <span class="formatting-rule">bold</span>
    │     │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │  └─ <span class="formatting-rule">italic</span>
    │     │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  ├─ <span class="block-rule">strikethrough</span>
    │     │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │     │  ├─ <span class="formatting-rule">subscript</span>
    │     │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │     │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │     │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │     │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │     │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │     │  ├─ <span class="inline-rule">footnote_ref</span>
    │     │  │  └─ <span class="inline-rule">footnote_label</span>
    │     │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  ├─ <span class="inline-rule">macro_inline</span>
    │     │  │  ├─ <span class="macro-rule">user_mention</span>
    │     │  │  │  ├─ username
    │     │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │     │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │     │  │  ├─ <span class="inline-rule">run_inline</span>
    │     │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │     │  │  │  └─ script_type
    │     │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │     │  │  ├─ page_tag
    │     │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │     │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │     │  │  └─ doc_ref
    │     │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │     │  │     └─ local_path = @{
    │     │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    │     │  └─ <span class="text-rule">text</span> = @{
    │     └─ <span class="inline-rule">inline_task_item</span>
    │        ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │        ├─ <span class="circular">inline</span>
    │        └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    ├─ <span class="inline-rule">macro_inline</span>
    │  ├─ <span class="macro-rule">user_mention</span>
    │  │  ├─ username
    │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │  ├─ <span class="inline-rule">run_inline</span>
    │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │  │  └─ script_type
    │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │  ├─ page_tag
    │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │  └─ doc_ref
    │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │     └─ local_path = @{
    ├─ def_line =  { &quot;:&quot; ~ &quot; &quot; ~ (!NEWLINE ~ ANY)+ }
    ├─ <span class="formatting-rule">bold_italic</span>
    │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    ├─ <span class="block-rule">table_header</span>
    │  └─ <span class="block-rule">table_cell</span>
    │     └─ <span class="block-rule">table_cell_content</span>
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="inline-rule">inline_link</span>
    │        │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │        │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  └─ <span class="inline-rule">link_url</span> = @{
    │        │  └─ <span class="inline-rule">autolink</span>
    │        │     ├─ <span class="inline-rule">autolink_email</span>
    │        │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │        │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │        │     └─ <span class="inline-rule">autolink_url</span>
    │        │        └─ <span class="inline-rule">link_url</span> = @{
    │        ├─ <span class="inline-rule">inline_image</span>
    │        │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  ├─ <span class="inline-rule">link_url</span> = @{
    │        │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="block-rule">strikethrough</span>
    │        │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │        ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │        ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │        ├─ <span class="formatting-rule">subscript</span>
    │        │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │        │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │        ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │        ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │        ├─ <span class="inline-rule">footnote_ref</span>
    │        │  └─ <span class="inline-rule">footnote_label</span>
    │        │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        ├─ <span class="inline-rule">macro_inline</span>
    │        │  ├─ <span class="macro-rule">user_mention</span>
    │        │  │  ├─ username
    │        │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │        │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │        │  ├─ <span class="inline-rule">run_inline</span>
    │        │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │        │  │  └─ script_type
    │        │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │        │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │        │  ├─ page_tag
    │        │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │        │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │        │  └─ doc_ref
    │        │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │        │     └─ local_path = @{
    │        └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    ├─ <span class="block-rule">table_row</span>
    │  └─ <span class="block-rule">table_cell</span>
    │     └─ <span class="block-rule">table_cell_content</span>
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="inline-rule">inline_link</span>
    │        │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │        │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  └─ <span class="inline-rule">link_url</span> = @{
    │        │  └─ <span class="inline-rule">autolink</span>
    │        │     ├─ <span class="inline-rule">autolink_email</span>
    │        │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │        │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │        │     └─ <span class="inline-rule">autolink_url</span>
    │        │        └─ <span class="inline-rule">link_url</span> = @{
    │        ├─ <span class="inline-rule">inline_image</span>
    │        │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  ├─ <span class="inline-rule">link_url</span> = @{
    │        │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="block-rule">strikethrough</span>
    │        │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │        ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │        ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │        ├─ <span class="formatting-rule">subscript</span>
    │        │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │        │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │        ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │        ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │        ├─ <span class="inline-rule">footnote_ref</span>
    │        │  └─ <span class="inline-rule">footnote_label</span>
    │        │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        ├─ <span class="inline-rule">macro_inline</span>
    │        │  ├─ <span class="macro-rule">user_mention</span>
    │        │  │  ├─ username
    │        │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │        │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │        │  ├─ <span class="inline-rule">run_inline</span>
    │        │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │        │  │  └─ script_type
    │        │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │        │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │        │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │        │  ├─ page_tag
    │        │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │        │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │        │  └─ doc_ref
    │        │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │        │     └─ local_path = @{
    │        └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    ├─ <span class="block-rule">admonition_open</span>
    │  └─ <span class="block-rule">admonition_type</span>
    │     ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
    │     ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
    │     ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
    │     ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
    │     └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
    ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    ├─ escaped_char
    │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
    ├─ <span class="block-rule">table_cell</span>
    │  └─ <span class="block-rule">table_cell_content</span>
    │     ├─ escaped_char
    │     │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     ├─ <span class="inline-rule">inline_link</span>
    │     │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │     │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │     │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  └─ <span class="inline-rule">link_url</span> = @{
    │     │  └─ <span class="inline-rule">autolink</span>
    │     │     ├─ <span class="inline-rule">autolink_email</span>
    │     │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │     └─ <span class="inline-rule">autolink_url</span>
    │     │        └─ <span class="inline-rule">link_url</span> = @{
    │     ├─ <span class="inline-rule">inline_image</span>
    │     │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │     ├─ <span class="formatting-rule">emphasis</span>
    │     │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  ├─ <span class="formatting-rule">bold</span>
    │     │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  └─ <span class="formatting-rule">italic</span>
    │     │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     ├─ <span class="block-rule">strikethrough</span>
    │     │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │     ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │     ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │     ├─ <span class="formatting-rule">subscript</span>
    │     │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │     │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │     ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │     ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │     ├─ <span class="inline-rule">footnote_ref</span>
    │     │  └─ <span class="inline-rule">footnote_label</span>
    │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     ├─ <span class="inline-rule">macro_inline</span>
    │     │  ├─ <span class="macro-rule">user_mention</span>
    │     │  │  ├─ username
    │     │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │     │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │     │  ├─ <span class="inline-rule">run_inline</span>
    │     │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │     │  │  └─ script_type
    │     │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │     │  ├─ page_tag
    │     │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │     │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │     │  └─ doc_ref
    │     │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │     │     └─ local_path = @{
    │     └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
    ├─ <span class="keyword-rule">KW_MERMAID</span> = @{ ^&quot;mermaid&quot; }
    ├─ NEWLINE = _{ &quot;\r\n&quot; | &quot;\n&quot; }
    ├─ H2
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  └─ heading_content
    │     └─ <span class="inline-rule">heading_inline</span>
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="text-rule">word</span>
    │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │        ├─ safe_punct
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="macro-rule">bookmark</span>
    │  ├─ <span class="macro-rule">KW_BOOKMARK</span>
    │  │  └─ <span class="circular">bookmark</span>
    │  └─ local_path = @{
    ├─ admo_nest
    │  ├─ <span class="block-rule">admonition_block</span>
    │  │  ├─ <span class="block-rule">admonition_open</span>
    │  │  │  └─ <span class="block-rule">admonition_type</span>
    │  │  │     ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
    │  │  │     └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
    │  │  ├─ <span class="block-rule">admonition_emoji</span> = { &quot;:::&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; ~...
    │  │  ├─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    │  │  └─ <span class="circular">admo_nest</span>
    │  └─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    ├─ diagram_fenced
    │  └─ diagram_type
    │     ├─ <span class="keyword-rule">KW_MERMAID</span> = @{ ^&quot;mermaid&quot; }
    │     └─ <span class="keyword-rule">KW_GRAPHVIZ</span> = @{ ^&quot;graphviz&quot; }
    ├─ html_start = _{ &quot;&lt;&quot; ~ ASCII_ALPHA }
    ├─ <span class="block-rule">hr</span> = { WHITESPACE* ~ (&quot;---&quot; | &quot;***&quot; | &quot;___...
    ├─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    ├─ safe_punct
    │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    ├─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    ├─ <span class="block-rule">admonition_start</span> = _{ &quot;:::&quot; }
    ├─ <span class="inline-rule">bracket_link_without_title</span>
    │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  └─ <span class="inline-rule">link_url</span> = @{
    ├─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    ├─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    ├─ <span class="block-rule">admonition_type</span>
    │  ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
    │  ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
    │  ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
    │  ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
    │  └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
    ├─ <span class="macro-rule">toc_depth</span> = { &quot;=&quot; ~ (&quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot;) }
    ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    ├─ <span class="inline-rule">inline_image</span>
    │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  ├─ <span class="inline-rule">link_url</span> = @{
    │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    ├─ WHITESPACE = _{ &quot; &quot; | &quot;\t&quot; }
    ├─ <span class="block-rule">paragraph_line</span>
    │  └─ <span class="inline-rule">inline</span>
    │     ├─ <span class="inline-rule">inline_core</span>
    │     │  ├─ escaped_char
    │     │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │     │  ├─ <span class="inline-rule">inline_link</span>
    │     │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │     │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │     │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │     │  │  └─ <span class="inline-rule">autolink</span>
    │     │  │     ├─ <span class="inline-rule">autolink_email</span>
    │     │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │  │     └─ <span class="inline-rule">autolink_url</span>
    │     │  │        └─ <span class="inline-rule">link_url</span> = @{
    │     │  ├─ <span class="inline-rule">inline_image</span>
    │     │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │     │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │     │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │     │  ├─ <span class="inline-rule">autolink</span>
    │     │  │  ├─ <span class="inline-rule">autolink_email</span>
    │     │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     │  │  └─ <span class="inline-rule">autolink_url</span>
    │     │  │     └─ <span class="inline-rule">link_url</span> = @{
    │     │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    │     │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │     │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │     │  ├─ <span class="formatting-rule">emphasis</span>
    │     │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │     │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │     │  │  ├─ <span class="formatting-rule">bold</span>
    │     │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │  └─ <span class="formatting-rule">italic</span>
    │     │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │     │  ├─ <span class="block-rule">strikethrough</span>
    │     │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │     │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │     │  ├─ <span class="formatting-rule">subscript</span>
    │     │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │     │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │     │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │     │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │     │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │     │  ├─ <span class="inline-rule">footnote_ref</span>
    │     │  │  └─ <span class="inline-rule">footnote_label</span>
    │     │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  ├─ <span class="inline-rule">macro_inline</span>
    │     │  │  ├─ <span class="macro-rule">user_mention</span>
    │     │  │  │  ├─ username
    │     │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │     │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │     │  │  ├─ <span class="inline-rule">run_inline</span>
    │     │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │     │  │  │  └─ script_type
    │     │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │     │  │  ├─ page_tag
    │     │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │     │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │     │  │  └─ doc_ref
    │     │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │     │  │     └─ local_path = @{
    │     │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    │     │  └─ <span class="text-rule">text</span> = @{
    │     └─ <span class="inline-rule">inline_task_item</span>
    │        ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │        ├─ <span class="circular">inline</span>
    │        └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    ├─ <span class="inline-rule">footnote_label</span>
    │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ <span class="inline-rule">footnote_def</span>
    │  └─ <span class="inline-rule">footnote_label</span>
    │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ URL_SAFE
    │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ <span class="macro-rule">KW_TAB</span>
    │  └─ <span class="macro-rule">tab</span>
    │     ├─ <span class="macro-rule">tab_line</span>
    │     │  ├─ <span class="circular">KW_TAB</span>
    │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     └─ <span class="macro-rule">tab_content_II</span>
    │        ├─ <span class="macro-rule">tab_line</span>
    │        │  ├─ <span class="circular">KW_TAB</span>
    │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    ├─ <span class="inline-rule">footnote_ref</span>
    │  └─ <span class="inline-rule">footnote_label</span>
    │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ H4
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  └─ heading_content
    │     └─ <span class="inline-rule">heading_inline</span>
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="text-rule">word</span>
    │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │        ├─ safe_punct
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    ├─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    ├─ heading
    │  ├─ H6
    │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  │  └─ heading_content
    │  │     └─ <span class="inline-rule">heading_inline</span>
    │  │        ├─ <span class="formatting-rule">emphasis</span>
    │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  ├─ <span class="formatting-rule">bold</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="formatting-rule">italic</span>
    │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │        ├─ escaped_char
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        ├─ <span class="text-rule">word</span>
    │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │  │        ├─ safe_punct
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │  ├─ H5
    │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  │  └─ heading_content
    │  │     └─ <span class="inline-rule">heading_inline</span>
    │  │        ├─ <span class="formatting-rule">emphasis</span>
    │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  ├─ <span class="formatting-rule">bold</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="formatting-rule">italic</span>
    │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │        ├─ escaped_char
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        ├─ <span class="text-rule">word</span>
    │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │  │        ├─ safe_punct
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │  ├─ H4
    │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  │  └─ heading_content
    │  │     └─ <span class="inline-rule">heading_inline</span>
    │  │        ├─ <span class="formatting-rule">emphasis</span>
    │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  ├─ <span class="formatting-rule">bold</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="formatting-rule">italic</span>
    │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │        ├─ escaped_char
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        ├─ <span class="text-rule">word</span>
    │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │  │        ├─ safe_punct
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │  ├─ H3
    │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  │  └─ heading_content
    │  │     └─ <span class="inline-rule">heading_inline</span>
    │  │        ├─ <span class="formatting-rule">emphasis</span>
    │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  ├─ <span class="formatting-rule">bold</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="formatting-rule">italic</span>
    │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │        ├─ escaped_char
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        ├─ <span class="text-rule">word</span>
    │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │  │        ├─ safe_punct
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │  ├─ H2
    │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  │  └─ heading_content
    │  │     └─ <span class="inline-rule">heading_inline</span>
    │  │        ├─ <span class="formatting-rule">emphasis</span>
    │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  ├─ <span class="formatting-rule">bold</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="formatting-rule">italic</span>
    │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │        ├─ escaped_char
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        ├─ <span class="text-rule">word</span>
    │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │  │        ├─ safe_punct
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │  ├─ H1
    │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  │  └─ heading_content
    │  │     └─ <span class="inline-rule">heading_inline</span>
    │  │        ├─ <span class="formatting-rule">emphasis</span>
    │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  ├─ <span class="formatting-rule">bold</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="formatting-rule">italic</span>
    │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │        ├─ escaped_char
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        ├─ <span class="text-rule">word</span>
    │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │  │        ├─ safe_punct
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │  ├─ <span class="text-rule">setext_h2</span>
    │  │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  │  └─ heading_content
    │  │     └─ <span class="inline-rule">heading_inline</span>
    │  │        ├─ <span class="formatting-rule">emphasis</span>
    │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  ├─ <span class="formatting-rule">bold</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="formatting-rule">italic</span>
    │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │        ├─ escaped_char
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        ├─ <span class="text-rule">word</span>
    │  │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │  │        ├─ safe_punct
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    │  └─ <span class="text-rule">setext_h1</span>
    │     ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │     └─ heading_content
    │        └─ <span class="inline-rule">heading_inline</span>
    │           ├─ <span class="formatting-rule">emphasis</span>
    │           │  ├─ <span class="formatting-rule">bold_italic</span>
    │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │           │  ├─ <span class="formatting-rule">bold</span>
    │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │           │  └─ <span class="formatting-rule">italic</span>
    │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │           ├─ escaped_char
    │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │           ├─ <span class="text-rule">word</span>
    │           │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │           │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │           ├─ safe_punct
    │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │           └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="macro-rule">tab_title</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    ├─ <span class="inline-rule">link_url</span> = @{
    ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    ├─ BLANK_LINE = _{ WHITESPACE* ~ NEWLINE }
    ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    ├─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    ├─ <span class="block-rule">task_list_item</span>
    │  ├─ <span class="block-rule">list_marker</span>
    │  │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │  │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │  ├─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    │  └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    ├─ <span class="inline-rule">autolink_url</span>
    │  └─ <span class="inline-rule">link_url</span> = @{
    ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    ├─ <span class="block-rule">def_list</span>
    │  ├─ term_line = @{ (!NEWLINE ~ ANY)+ }
    │  └─ def_line =  { &quot;:&quot; ~ &quot; &quot; ~ (!NEWLINE ~ ANY)+ }
    ├─ <span class="block-rule">table</span>
    │  ├─ <span class="block-rule">table_header</span>
    │  │  └─ <span class="block-rule">table_cell</span>
    │  │     └─ <span class="block-rule">table_cell_content</span>
    │  │        ├─ escaped_char
    │  │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │        ├─ <span class="inline-rule">inline_link</span>
    │  │        │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  │        │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │  │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │        │  │  └─ <span class="inline-rule">link_url</span> = @{
    │  │        │  └─ <span class="inline-rule">autolink</span>
    │  │        │     ├─ <span class="inline-rule">autolink_email</span>
    │  │        │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  │        │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │  │        │     └─ <span class="inline-rule">autolink_url</span>
    │  │        │        └─ <span class="inline-rule">link_url</span> = @{
    │  │        ├─ <span class="inline-rule">inline_image</span>
    │  │        │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │        │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │        │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │        ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │  │        ├─ <span class="formatting-rule">emphasis</span>
    │  │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │        │  ├─ <span class="formatting-rule">bold</span>
    │  │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="formatting-rule">italic</span>
    │  │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │        ├─ <span class="block-rule">strikethrough</span>
    │  │        │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │  │        ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │  │        ├─ <span class="formatting-rule">subscript</span>
    │  │        │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │  │        │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │  │        ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │  │        ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │  │        ├─ <span class="inline-rule">footnote_ref</span>
    │  │        │  └─ <span class="inline-rule">footnote_label</span>
    │  │        │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        ├─ <span class="inline-rule">macro_inline</span>
    │  │        │  ├─ <span class="macro-rule">user_mention</span>
    │  │        │  │  ├─ username
    │  │        │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │        │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │  │        │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │  │        │  ├─ <span class="inline-rule">run_inline</span>
    │  │        │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │  │        │  │  └─ script_type
    │  │        │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │  │        │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │  │        │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │  │        │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │  │        │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │  │        │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │  │        │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │  │        │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │  │        │  ├─ page_tag
    │  │        │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │  │        │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │  │        │  └─ doc_ref
    │  │        │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │  │        │     └─ local_path = @{
    │  │        └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    │  ├─ <span class="block-rule">table_sep</span>
    │  │  └─ <span class="block-rule">table_sep_cell</span> =  { WHITESPACE* ~ &quot;:&quot;? ~ &quot;-&quot;+ ~ &quot;:&quot;? ~...
    │  └─ <span class="block-rule">table_row</span>
    │     └─ <span class="block-rule">table_cell</span>
    │        └─ <span class="block-rule">table_cell_content</span>
    │           ├─ escaped_char
    │           │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │           ├─ <span class="inline-rule">inline_link</span>
    │           │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │           │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │           │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │           │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │           │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │           │  │  └─ <span class="inline-rule">link_url</span> = @{
    │           │  └─ <span class="inline-rule">autolink</span>
    │           │     ├─ <span class="inline-rule">autolink_email</span>
    │           │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │           │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │           │     └─ <span class="inline-rule">autolink_url</span>
    │           │        └─ <span class="inline-rule">link_url</span> = @{
    │           ├─ <span class="inline-rule">inline_image</span>
    │           │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │           │  ├─ <span class="inline-rule">link_url</span> = @{
    │           │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │           ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │           ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │           ├─ <span class="formatting-rule">emphasis</span>
    │           │  ├─ <span class="formatting-rule">bold_italic</span>
    │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │           │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │           │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │           │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │           │  ├─ <span class="formatting-rule">bold</span>
    │           │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │           │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │           │  └─ <span class="formatting-rule">italic</span>
    │           │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │           │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │           ├─ <span class="block-rule">strikethrough</span>
    │           │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │           │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │           ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │           ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │           ├─ <span class="formatting-rule">subscript</span>
    │           │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │           │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │           ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │           ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │           ├─ <span class="inline-rule">footnote_ref</span>
    │           │  └─ <span class="inline-rule">footnote_label</span>
    │           │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │           ├─ <span class="inline-rule">macro_inline</span>
    │           │  ├─ <span class="macro-rule">user_mention</span>
    │           │  │  ├─ username
    │           │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │           │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │           │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │           │  ├─ <span class="inline-rule">run_inline</span>
    │           │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │           │  │  └─ script_type
    │           │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │           │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │           │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │           │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │           │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │           │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │           │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │           │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │           │  ├─ page_tag
    │           │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │           │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │           │  └─ doc_ref
    │           │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │           │     └─ local_path = @{
    │           └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    ├─ <span class="block-rule">paragraph</span>
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  ├─ <span class="block-rule">block_start</span> = _{
    │  └─ <span class="block-rule">paragraph_line</span>
    │     └─ <span class="inline-rule">inline</span>
    │        ├─ <span class="inline-rule">inline_core</span>
    │        │  ├─ escaped_char
    │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        │  ├─ <span class="inline-rule">inline_link</span>
    │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │        │  │  └─ <span class="inline-rule">autolink</span>
    │        │  │     ├─ <span class="inline-rule">autolink_email</span>
    │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │        │  │     └─ <span class="inline-rule">autolink_url</span>
    │        │  │        └─ <span class="inline-rule">link_url</span> = @{
    │        │  ├─ <span class="inline-rule">inline_image</span>
    │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │        │  ├─ <span class="inline-rule">autolink</span>
    │        │  │  ├─ <span class="inline-rule">autolink_email</span>
    │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │        │  │  └─ <span class="inline-rule">autolink_url</span>
    │        │  │     └─ <span class="inline-rule">link_url</span> = @{
    │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │        │  ├─ <span class="formatting-rule">emphasis</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">italic</span>
    │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        │  ├─ <span class="block-rule">strikethrough</span>
    │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │        │  ├─ <span class="formatting-rule">subscript</span>
    │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │        │  ├─ <span class="inline-rule">footnote_ref</span>
    │        │  │  └─ <span class="inline-rule">footnote_label</span>
    │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  ├─ <span class="inline-rule">macro_inline</span>
    │        │  │  ├─ <span class="macro-rule">user_mention</span>
    │        │  │  │  ├─ username
    │        │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │        │  │  ├─ <span class="inline-rule">run_inline</span>
    │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │        │  │  │  └─ script_type
    │        │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │        │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │        │  │  ├─ page_tag
    │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │        │  │  └─ doc_ref
    │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │        │  │     └─ local_path = @{
    │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    │        │  └─ <span class="text-rule">text</span> = @{
    │        └─ <span class="inline-rule">inline_task_item</span>
    │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │           ├─ <span class="circular">inline</span>
    │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    ├─ H6
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  └─ heading_content
    │     └─ <span class="inline-rule">heading_inline</span>
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="text-rule">word</span>
    │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │        ├─ safe_punct
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="macro-rule">KW_TOC</span> = @{ ^&quot;toc&quot; }
    ├─ <span class="block-rule">hr_start</span> = _{ (&quot;***&quot; | &quot;---&quot; | &quot;___&quot;) ~ (WHITESP...
    ├─ <span class="inline-rule">heading_inline</span>
    │  ├─ <span class="formatting-rule">emphasis</span>
    │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │  ├─ <span class="formatting-rule">bold</span>
    │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  └─ <span class="formatting-rule">italic</span>
    │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  ├─ escaped_char
    │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  ├─ <span class="text-rule">word</span>
    │  │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │  ├─ safe_punct
    │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="formatting-rule">emphasis</span>
    │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  ├─ <span class="formatting-rule">bold</span>
    │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  └─ <span class="formatting-rule">italic</span>
    │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    ├─ <span class="block-rule">table_cell_content</span>
    │  ├─ escaped_char
    │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  ├─ <span class="inline-rule">inline_link</span>
    │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │  │  └─ <span class="inline-rule">autolink</span>
    │  │     ├─ <span class="inline-rule">autolink_email</span>
    │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │  │     └─ <span class="inline-rule">autolink_url</span>
    │  │        └─ <span class="inline-rule">link_url</span> = @{
    │  ├─ <span class="inline-rule">inline_image</span>
    │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │  ├─ <span class="formatting-rule">emphasis</span>
    │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │  ├─ <span class="formatting-rule">bold</span>
    │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  └─ <span class="formatting-rule">italic</span>
    │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  ├─ <span class="block-rule">strikethrough</span>
    │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │  ├─ <span class="formatting-rule">subscript</span>
    │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │  ├─ <span class="inline-rule">footnote_ref</span>
    │  │  └─ <span class="inline-rule">footnote_label</span>
    │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  ├─ <span class="inline-rule">macro_inline</span>
    │  │  ├─ <span class="macro-rule">user_mention</span>
    │  │  │  ├─ username
    │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │  │  ├─ <span class="inline-rule">run_inline</span>
    │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │  │  │  └─ script_type
    │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │  │  ├─ page_tag
    │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │  │  └─ doc_ref
    │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │  │     └─ local_path = @{
    │  └─ <span class="block-rule">table_safe_text</span> = @{ (!&quot;|&quot; ~ !NEWLINE ~ ANY)+ }
    ├─ <span class="macro-rule">tab_content_line</span>
    │  ├─ <span class="macro-rule">tab_line</span>
    │  │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │  │  └─ <span class="macro-rule">tab</span>
    │  │  │     ├─ <span class="circular">tab_line</span>
    │  │  │     └─ <span class="macro-rule">tab_content_II</span>
    │  │  │        ├─ <span class="circular">tab_line</span>
    │  │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    ├─ <span class="macro-rule">user_mention</span>
    │  ├─ username
    │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    ├─ <span class="macro-rule">KW_BOOKMARK</span>
    │  └─ <span class="macro-rule">bookmark</span>
    │     ├─ <span class="circular">KW_BOOKMARK</span>
    │     └─ local_path = @{
    ├─ <span class="macro-rule">toc_doc</span>
    │  └─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    ├─ <span class="block-rule">block_start</span> = _{
    ├─ <span class="block-rule">block_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY | NEWLINE)* ~ &quot;&gt;&quot; }
    ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    ├─ start_line_formatting = @{
    ├─ script_type
    │  ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │  ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │  ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │  ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │  ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │  ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │  ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │  └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    ├─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    ├─ <span class="block-rule">list_start</span> = _{
    ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    ├─ <span class="block-rule">table_sep</span>
    │  └─ <span class="block-rule">table_sep_cell</span> =  { WHITESPACE* ~ &quot;:&quot;? ~ &quot;-&quot;+ ~ &quot;:&quot;? ~...
    ├─ <span class="formatting-rule">subscript</span>
    │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    ├─ line_start_marker = _{
    ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    ├─ <span class="formatting-rule">italic</span>
    │  ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    ├─ <span class="text-rule">setext_h2</span>
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  └─ heading_content
    │     └─ <span class="inline-rule">heading_inline</span>
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="text-rule">word</span>
    │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │        ├─ safe_punct
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    ├─ H5
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  └─ heading_content
    │     └─ <span class="inline-rule">heading_inline</span>
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="text-rule">word</span>
    │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │        ├─ safe_punct
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="block-rule">block_image</span>
    │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │  └─ <span class="inline-rule">image_url</span>
    │     ├─ http_url
    │     │  └─ URL_SAFE
    │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     ├─ www_url
    │     │  └─ URL_SAFE
    │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │     ├─ local_path = @{
    │     └─ <span class="inline-rule">image_ext</span> = @{ &quot;.&quot; ~ (^&quot;jpg&quot; | ^&quot;jpeg&quot; | ^&quot;png&quot; |...
    ├─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    ├─ <span class="inline-rule">run_inline</span>
    │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │  └─ script_type
    │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ mailto
    │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    ├─ <span class="block-rule">tab_block</span>
    │  ├─ <span class="macro-rule">tab_header</span>
    │  │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │  │  └─ <span class="macro-rule">tab</span>
    │  │  │     ├─ <span class="macro-rule">tab_line</span>
    │  │  │     │  ├─ <span class="circular">KW_TAB</span>
    │  │  │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  │  │     └─ <span class="macro-rule">tab_content_II</span>
    │  │  │        ├─ <span class="macro-rule">tab_line</span>
    │  │  │        │  ├─ <span class="circular">KW_TAB</span>
    │  │  │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  │  └─ <span class="macro-rule">tab_title</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  ├─ <span class="macro-rule">tabs_content_I</span>
    │  │  ├─ <span class="macro-rule">tab_content_line</span>
    │  │  │  ├─ <span class="macro-rule">tab_line</span>
    │  │  │  │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │  │  │  │  └─ <span class="macro-rule">tab</span>
    │  │  │  │  │     ├─ <span class="circular">tab_line</span>
    │  │  │  │  │     └─ <span class="macro-rule">tab_content_II</span>
    │  │  │  │  │        ├─ <span class="circular">tab_line</span>
    │  │  │  │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  │  │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  │  │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  │  └─ <span class="macro-rule">tab</span>
    │  │     ├─ <span class="macro-rule">tab_line</span>
    │  │     │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │     │  │  └─ <span class="circular">tab</span>
    │  │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  │     └─ <span class="macro-rule">tab_content_II</span>
    │  │        ├─ <span class="macro-rule">tab_line</span>
    │  │        │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │        │  │  └─ <span class="circular">tab</span>
    │  │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    ├─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
    ├─ H3
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  └─ heading_content
    │     └─ <span class="inline-rule">heading_inline</span>
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="text-rule">word</span>
    │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │        ├─ safe_punct
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="formatting-rule">bold</span>
    │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    ├─ www_url
    │  └─ URL_SAFE
    │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ <span class="text-rule">text_content_chars</span> = {
    ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    ├─ <span class="keyword-rule">KW_GRAPHVIZ</span> = @{ ^&quot;graphviz&quot; }
    ├─ <span class="text-rule">text_line_content</span> = _{
    ├─ <span class="block-rule">block_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    ├─ H1
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  └─ heading_content
    │     └─ <span class="inline-rule">heading_inline</span>
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="text-rule">word</span>
    │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │        ├─ safe_punct
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ <span class="macro-rule">tab_header</span>
    │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │  └─ <span class="macro-rule">tab</span>
    │  │     ├─ <span class="macro-rule">tab_line</span>
    │  │     │  ├─ <span class="circular">KW_TAB</span>
    │  │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  │     └─ <span class="macro-rule">tab_content_II</span>
    │  │        ├─ <span class="macro-rule">tab_line</span>
    │  │        │  ├─ <span class="circular">KW_TAB</span>
    │  │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  └─ <span class="macro-rule">tab_title</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    ├─ page_tag
    │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    ├─ <span class="block-rule">admonition_block</span>
    │  ├─ <span class="block-rule">admonition_open</span>
    │  │  └─ <span class="block-rule">admonition_type</span>
    │  │     ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
    │  │     ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
    │  │     ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
    │  │     ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
    │  │     └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
    │  ├─ <span class="block-rule">admonition_emoji</span> = { &quot;:::&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; ~...
    │  ├─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    │  └─ admo_nest
    │     ├─ <span class="circular">admonition_block</span>
    │     └─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    ├─ <span class="block-rule">blockquote</span>
    │  └─ <span class="block-rule">blockquote_line</span>
    │     └─ <span class="inline-rule">inline</span>
    │        ├─ <span class="inline-rule">inline_core</span>
    │        │  ├─ escaped_char
    │        │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        │  ├─ <span class="inline-rule">inline_link</span>
    │        │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │        │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │        │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │        │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │        │  │  └─ <span class="inline-rule">autolink</span>
    │        │  │     ├─ <span class="inline-rule">autolink_email</span>
    │        │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │        │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │        │  │     └─ <span class="inline-rule">autolink_url</span>
    │        │  │        └─ <span class="inline-rule">link_url</span> = @{
    │        │  ├─ <span class="inline-rule">inline_image</span>
    │        │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │        │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │        │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │        │  ├─ <span class="inline-rule">autolink</span>
    │        │  │  ├─ <span class="inline-rule">autolink_email</span>
    │        │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │        │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │        │  │  └─ <span class="inline-rule">autolink_url</span>
    │        │  │     └─ <span class="inline-rule">link_url</span> = @{
    │        │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    │        │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │        │  ├─ <span class="formatting-rule">emphasis</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">italic</span>
    │        │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        │  ├─ <span class="block-rule">strikethrough</span>
    │        │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │        │  ├─ <span class="formatting-rule">subscript</span>
    │        │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │        │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │        │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │        │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │        │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │        │  ├─ <span class="inline-rule">footnote_ref</span>
    │        │  │  └─ <span class="inline-rule">footnote_label</span>
    │        │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  ├─ <span class="inline-rule">macro_inline</span>
    │        │  │  ├─ <span class="macro-rule">user_mention</span>
    │        │  │  │  ├─ username
    │        │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │        │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │        │  │  ├─ <span class="inline-rule">run_inline</span>
    │        │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │        │  │  │  └─ script_type
    │        │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │        │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │        │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │        │  │  ├─ page_tag
    │        │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │        │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │        │  │  └─ doc_ref
    │        │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │        │  │     └─ local_path = @{
    │        │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    │        │  └─ <span class="text-rule">text</span> = @{
    │        └─ <span class="inline-rule">inline_task_item</span>
    │           ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │           ├─ <span class="circular">inline</span>
    │           └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    ├─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    ├─ formatting_char = { &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;~&quot; | &quot;=&quot; | &quot;^&quot; |...
    ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    ├─ doc_ref
    │  ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │  └─ local_path = @{
    ├─ <span class="block-rule">table_sep_cell</span> =  { WHITESPACE* ~ &quot;:&quot;? ~ &quot;-&quot;+ ~ &quot;:&quot;? ~...
    ├─ <span class="macro-rule">tabs_content_I</span>
    │  ├─ <span class="macro-rule">tab_content_line</span>
    │  │  ├─ <span class="macro-rule">tab_line</span>
    │  │  │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │  │  │  └─ <span class="macro-rule">tab</span>
    │  │  │  │     ├─ <span class="circular">tab_line</span>
    │  │  │  │     └─ <span class="macro-rule">tab_content_II</span>
    │  │  │  │        ├─ <span class="circular">tab_line</span>
    │  │  │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │  └─ <span class="macro-rule">tab</span>
    │     ├─ <span class="macro-rule">tab_line</span>
    │     │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │  │  └─ <span class="circular">tab</span>
    │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     └─ <span class="macro-rule">tab_content_II</span>
    │        ├─ <span class="macro-rule">tab_line</span>
    │        │  ├─ <span class="macro-rule">KW_TAB</span>
    │        │  │  └─ <span class="circular">tab</span>
    │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    ├─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    ├─ <span class="inline-rule">inline_task_item</span>
    │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │  ├─ <span class="inline-rule">inline</span>
    │  │  ├─ <span class="inline-rule">inline_core</span>
    │  │  │  ├─ escaped_char
    │  │  │  │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │  │  │  ├─ <span class="inline-rule">inline_link</span>
    │  │  │  │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │  │  │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │  │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  │  │  │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │  │  │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  │  │  └─ <span class="inline-rule">link_url</span> = @{
    │  │  │  │  └─ <span class="inline-rule">autolink</span>
    │  │  │  │     ├─ <span class="inline-rule">autolink_email</span>
    │  │  │  │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  │  │  │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │  │  │  │     └─ <span class="inline-rule">autolink_url</span>
    │  │  │  │        └─ <span class="inline-rule">link_url</span> = @{
    │  │  │  ├─ <span class="inline-rule">inline_image</span>
    │  │  │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │  │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  │  │  ├─ <span class="inline-rule">autolink</span>
    │  │  │  │  ├─ <span class="inline-rule">autolink_email</span>
    │  │  │  │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  │  │  │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │  │  │  │  └─ <span class="inline-rule">autolink_url</span>
    │  │  │  │     └─ <span class="inline-rule">link_url</span> = @{
    │  │  │  ├─ <span class="inline-rule">inline_footnote_ref</span> = { &quot;^&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; }
    │  │  │  ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │  │  │  ├─ <span class="inline-rule">math_inline</span> = { &quot;$&quot; ~ (!&quot;$&quot; ~ ANY | &quot;\\&quot; ~ &quot;$&quot;)* ~ ...
    │  │  │  ├─ <span class="formatting-rule">emphasis</span>
    │  │  │  │  ├─ <span class="formatting-rule">bold_italic</span>
    │  │  │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │  │  │  │  ├─ <span class="formatting-rule">bold</span>
    │  │  │  │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  │  │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  │  │  └─ <span class="formatting-rule">italic</span>
    │  │  │  │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │  │  │  │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │  │  │  ├─ <span class="block-rule">strikethrough</span>
    │  │  │  │  ├─ <span class="block-rule">strikethrough_tilde</span> = @{ &quot;~~&quot; ~ (!&quot;~~&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  │  │  └─ <span class="block-rule">strikethrough_dash</span> = @{ &quot;--&quot; ~ (!&quot;--&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  │  ├─ <span class="formatting-rule">highlight</span> = @{ &quot;==&quot; ~ (!&quot;==&quot; ~ (!NEWLINE ~ ANY))+...
    │  │  │  ├─ <span class="formatting-rule">superscript</span> = @{ &quot;^&quot; ~ (!&quot;^&quot; ~ (!WHITESPACE ~ ANY))...
    │  │  │  ├─ <span class="formatting-rule">subscript</span>
    │  │  │  │  ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    │  │  │  │  └─ <span class="formatting-rule">subscript_tilde</span> = @{ &quot;~&quot; ~ !&quot;~&quot; ~ (!&quot;~&quot; ~ (!WHITESPACE ...
    │  │  │  ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    │  │  │  ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    │  │  │  ├─ <span class="inline-rule">inline_comment</span> = _{ &quot;&lt;!--&quot; ~ (!&quot;--&gt;&quot; ~ ANY)* ~ &quot;--&gt;&quot; }
    │  │  │  ├─ <span class="inline-rule">footnote_ref</span>
    │  │  │  │  └─ <span class="inline-rule">footnote_label</span>
    │  │  │  │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │  │  ├─ <span class="inline-rule">macro_inline</span>
    │  │  │  │  ├─ <span class="macro-rule">user_mention</span>
    │  │  │  │  │  ├─ username
    │  │  │  │  │  │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │  │  │  │  ├─ platform = @{ (!&quot;]&quot; ~ ANY)+ }
    │  │  │  │  │  └─ display_name = @{ (!&quot;)&quot; ~ ANY)+ }
    │  │  │  │  ├─ <span class="inline-rule">run_inline</span>
    │  │  │  │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │  │  │  │  │  └─ script_type
    │  │  │  │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │  │  │  │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │  │  │  │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │  │  │  │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │  │  │  │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │  │  │  │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │  │  │  │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │  │  │  │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │  │  │  │  ├─ page_tag
    │  │  │  │  │  ├─ <span class="keyword-rule">KW_PAGE</span> = @{ ^&quot;page&quot; }
    │  │  │  │  │  └─ page_format = { ^&quot;A4&quot; | ^&quot;US&quot; | ASCII_DIGIT+ }
    │  │  │  │  └─ doc_ref
    │  │  │  │     ├─ <span class="keyword-rule">KW_DOC</span> = @{ ^&quot;doc&quot; }
    │  │  │  │     └─ local_path = @{
    │  │  │  ├─ line_break = @{ &quot; &quot;{2, } ~ NEWLINE }
    │  │  │  └─ <span class="text-rule">text</span> = @{
    │  │  └─ <span class="circular">inline_task_item</span>
    │  └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    ├─ <span class="block-rule">admonition_emoji</span> = { &quot;:::&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; ~...
    ├─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    ├─ <span class="block-rule">macro_block</span>
    │  ├─ <span class="block-rule">admonition_block</span>
    │  │  ├─ <span class="block-rule">admonition_open</span>
    │  │  │  └─ <span class="block-rule">admonition_type</span>
    │  │  │     ├─ <span class="keyword-rule">KW_NOTE</span> = @{ ^&quot;note&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_TIP</span> = @{ ^&quot;tip&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_WARNING</span> = @{ ^&quot;warning&quot; }
    │  │  │     ├─ <span class="keyword-rule">KW_DANGER</span> = @{ ^&quot;danger&quot; }
    │  │  │     └─ <span class="keyword-rule">KW_INFO</span> = @{ ^&quot;info&quot; }
    │  │  ├─ <span class="block-rule">admonition_emoji</span> = { &quot;:::&quot; ~ &quot;[&quot; ~ (!&quot;]&quot; ~ ANY)+ ~ &quot;]&quot; ~...
    │  │  ├─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    │  │  └─ admo_nest
    │  │     ├─ <span class="circular">admonition_block</span>
    │  │     └─ <span class="block-rule">admonition_close</span> = { &quot;:::&quot; }
    │  ├─ <span class="block-rule">run_block_fenced</span>
    │  │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │  │  └─ script_type
    │  │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │  │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │  │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │  │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │  │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │  │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │  │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │  │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    │  ├─ diagram_fenced
    │  │  └─ diagram_type
    │  │     ├─ <span class="keyword-rule">KW_MERMAID</span> = @{ ^&quot;mermaid&quot; }
    │  │     └─ <span class="keyword-rule">KW_GRAPHVIZ</span> = @{ ^&quot;graphviz&quot; }
    │  ├─ <span class="macro-rule">bookmark</span>
    │  │  ├─ <span class="macro-rule">KW_BOOKMARK</span>
    │  │  │  └─ <span class="circular">bookmark</span>
    │  │  └─ local_path = @{
    │  ├─ <span class="block-rule">block_youtube</span>
    │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │  │  └─ youtube_url
    │  │     └─ URL_SAFE
    │  │        └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  ├─ <span class="block-rule">block_image</span>
    │  │  ├─ <span class="block-rule">block_caption</span> = { (!&quot;]&quot; ~ ANY)+ }
    │  │  └─ <span class="inline-rule">image_url</span>
    │  │     ├─ http_url
    │  │     │  └─ URL_SAFE
    │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │     ├─ www_url
    │  │     │  └─ URL_SAFE
    │  │     │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │  │     ├─ local_path = @{
    │  │     └─ <span class="inline-rule">image_ext</span> = @{ &quot;.&quot; ~ (^&quot;jpg&quot; | ^&quot;jpeg&quot; | ^&quot;png&quot; |...
    │  └─ <span class="block-rule">tab_block</span>
    │     ├─ <span class="macro-rule">tab_header</span>
    │     │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │  │  └─ <span class="macro-rule">tab</span>
    │     │  │     ├─ <span class="macro-rule">tab_line</span>
    │     │  │     │  ├─ <span class="circular">KW_TAB</span>
    │     │  │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │  │     └─ <span class="macro-rule">tab_content_II</span>
    │     │  │        ├─ <span class="macro-rule">tab_line</span>
    │     │  │        │  ├─ <span class="circular">KW_TAB</span>
    │     │  │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     │  └─ <span class="macro-rule">tab_title</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     ├─ <span class="macro-rule">tabs_content_I</span>
    │     │  ├─ <span class="macro-rule">tab_content_line</span>
    │     │  │  ├─ <span class="macro-rule">tab_line</span>
    │     │  │  │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │  │  │  │  └─ <span class="macro-rule">tab</span>
    │     │  │  │  │     ├─ <span class="circular">tab_line</span>
    │     │  │  │  │     └─ <span class="macro-rule">tab_content_II</span>
    │     │  │  │  │        ├─ <span class="circular">tab_line</span>
    │     │  │  │  │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     │  │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │  │  └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     │  └─ <span class="macro-rule">tab</span>
    │     │     ├─ <span class="macro-rule">tab_line</span>
    │     │     │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │     │  │  └─ <span class="circular">tab</span>
    │     │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │     └─ <span class="macro-rule">tab_content_II</span>
    │     │        ├─ <span class="macro-rule">tab_line</span>
    │     │        │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │        │  │  └─ <span class="circular">tab</span>
    │     │        │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     │        └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    │     └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    ├─ http_url
    │  └─ URL_SAFE
    │     └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ <span class="block-rule">unknown_block</span> = { (!NEWLINE ~ ANY)+ }
    ├─ INDENT = _{ &quot; &quot;{4} | &quot;\t&quot; }
    ├─ <span class="inline-rule">inline_link</span>
    │  ├─ <span class="inline-rule">bracket_link_with_title</span>
    │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  ├─ <span class="inline-rule">link_url</span> = @{
    │  │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    │  ├─ <span class="inline-rule">bracket_link_without_title</span>
    │  │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  │  └─ <span class="inline-rule">link_url</span> = @{
    │  └─ <span class="inline-rule">autolink</span>
    │     ├─ <span class="inline-rule">autolink_email</span>
    │     │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │     │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │     └─ <span class="inline-rule">autolink_url</span>
    │        └─ <span class="inline-rule">link_url</span> = @{
    ├─ <span class="block-rule">list_marker</span>
    │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    ├─ <span class="block-rule">blockquote_start</span> = _{ &quot;&gt;&quot; ~ (&quot; &quot; | &quot;\t&quot; | &amp;NEWLINE | &amp;EO...
    ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    ├─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    ├─ <span class="block-rule">regular_list_item</span>
    │  ├─ <span class="block-rule">list_marker</span>
    │  │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │  │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │  └─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    ├─ <span class="inline-rule">image_ext</span> = @{ &quot;.&quot; ~ (^&quot;jpg&quot; | ^&quot;jpeg&quot; | ^&quot;png&quot; |...
    ├─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    ├─ <span class="block-rule">run_block_fenced</span>
    │  ├─ <span class="keyword-rule">KW_RUN</span> = @{ ^&quot;run@&quot; }
    │  └─ script_type
    │     ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    │     ├─ <span class="keyword-rule">KW_ZSH</span> = @{ ^&quot;zsh&quot; }
    │     ├─ <span class="keyword-rule">KW_SH</span> = @{ ^&quot;sh&quot; }
    │     ├─ <span class="keyword-rule">KW_BAT</span> = @{ ^&quot;bat&quot; }
    │     ├─ <span class="keyword-rule">KW_POWERSHELL</span> = @{ ^&quot;powershell&quot; }
    │     ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    │     ├─ <span class="keyword-rule">KW_PYTHON</span> = @{ ^&quot;python&quot; }
    │     └─ <span class="keyword-rule">KW_PY</span> = @{ ^&quot;py&quot; }
    ├─ <span class="formatting-rule">subscript_arrow</span> = @{ &quot;˅&quot; ~ (!&quot;˅&quot; ~ (!WHITESPACE ~ ANY...
    ├─ INDENT_OPT = _{ (&quot; &quot; | &quot;\t&quot;)* }
    ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    ├─ heading_start = _{ &quot;#&quot;{1, 6} ~ &quot; &quot; }
    ├─ <span class="keyword-rule">KW_PS</span> = @{ ^&quot;ps&quot; }
    ├─ <span class="keyword-rule">KW_BASH</span> = @{ ^&quot;bash&quot; }
    ├─ <span class="inline-rule">bracket_link_with_title</span>
    │  ├─ <span class="inline-rule">inline_link_text</span> = @{ (!&quot;]&quot; ~ ANY)* }
    │  ├─ <span class="inline-rule">link_url</span> = @{
    │  └─ <span class="inline-rule">link_title</span> =  { &quot;\&quot;&quot; ~ (!&quot;\&quot;&quot; ~ ANY)* ~ &quot;\&quot;&quot; | &quot;&#39;&quot;...
    ├─ <span class="macro-rule">tab</span>
    │  ├─ <span class="macro-rule">tab_line</span>
    │  │  ├─ <span class="macro-rule">KW_TAB</span>
    │  │  │  └─ <span class="circular">tab</span>
    │  │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │  └─ <span class="macro-rule">tab_content_II</span>
    │     ├─ <span class="macro-rule">tab_line</span>
    │     │  ├─ <span class="macro-rule">KW_TAB</span>
    │     │  │  └─ <span class="circular">tab</span>
    │     │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
    │     └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }
    ├─ emoji = @{ &quot;:&quot; ~ (!(&quot;:&quot; | WHITESPACE | NEWLIN...
    ├─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    ├─ <span class="inline-rule">autolink</span>
    │  ├─ <span class="inline-rule">autolink_email</span>
    │  │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    │  └─ <span class="inline-rule">autolink_url</span>
    │     └─ <span class="inline-rule">link_url</span> = @{
    ├─ <span class="text-rule">setext_h1</span>
    │  ├─ NON_INDENT = _{ &quot; &quot;{0, 3} }
    │  └─ heading_content
    │     └─ <span class="inline-rule">heading_inline</span>
    │        ├─ <span class="formatting-rule">emphasis</span>
    │        │  ├─ <span class="formatting-rule">bold_italic</span>
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_asterisk</span> = @{ &quot;***&quot; ~ (!&quot;***&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_triple_underscore</span> = @{ &quot;___&quot; ~ (!&quot;___&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  ├─ <span class="formatting-rule">bold_italic_mixed_ast_under</span> = @{ &quot;**_&quot; ~ (!&quot;_**&quot; ~ (!NEWLINE ~ ANY)...
    │        │  │  └─ <span class="formatting-rule">bold_italic_mixed_under_ast</span> = @{ &quot;__*&quot; ~ (!&quot;*__&quot; ~ (!NEWLINE ~ ANY)...
    │        │  ├─ <span class="formatting-rule">bold</span>
    │        │  │  ├─ <span class="formatting-rule">bold_asterisk</span> = @{ &quot;**&quot; ~ (!&quot;**&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  │  └─ <span class="formatting-rule">bold_underscore</span> = @{ &quot;__&quot; ~ (!&quot;__&quot; ~ (!NEWLINE ~ ANY))+...
    │        │  └─ <span class="formatting-rule">italic</span>
    │        │     ├─ <span class="formatting-rule">italic_asterisk</span> = @{ &quot;*&quot; ~ !&quot;*&quot; ~ (!&quot;*&quot; ~ (!NEWLINE ~ A...
    │        │     └─ <span class="formatting-rule">italic_underscore</span> = @{ &quot;_&quot; ~ !&quot;_&quot; ~ (!&quot;_&quot; ~ (!NEWLINE ~ A...
    │        ├─ <span class="inline-rule">code_inline</span> = @{ &quot;`&quot; ~ (!&quot;`&quot; ~ ANY)+ ~ &quot;`&quot; }
    │        ├─ escaped_char
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        ├─ <span class="text-rule">word</span>
    │        │  ├─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    │        │  └─ inner_char = _{ &quot;-&quot; | &quot;&#39;&quot; }
    │        ├─ safe_punct
    │        │  └─ markdown_special = _{ &quot;*&quot; | &quot;_&quot; | &quot;`&quot; | &quot;#&quot; | &quot;[&quot; | &quot;]&quot; ...
    │        └─ <span class="text-rule">math_symbol</span> = @{ &quot;±&quot; | &quot;√&quot; | &quot;∞&quot; | &quot;∑&quot; | &quot;...
    ├─ fenced_code
    │  └─ language_id = @{ ASCII_ALPHA+ ~ (ASCII_ALPHANUMERIC...
    ├─ indented_code
    │  └─ INDENT = _{ &quot; &quot;{4} | &quot;\t&quot; }
    ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    ├─ <span class="block-rule">code_block</span>
    │  ├─ fenced_code
    │  │  └─ language_id = @{ ASCII_ALPHA+ ~ (ASCII_ALPHANUMERIC...
    │  └─ indented_code
    │     └─ INDENT = _{ &quot; &quot;{4} | &quot;\t&quot; }
    ├─ code_start
    │  └─ INDENT = _{ &quot; &quot;{4} | &quot;\t&quot; }
    ├─ <span class="block-rule">list</span>
    │  └─ <span class="block-rule">list_item</span>
    │     ├─ INDENT_OPT = _{ (&quot; &quot; | &quot;\t&quot;)* }
    │     ├─ <span class="block-rule">task_list_item</span>
    │     │  ├─ <span class="block-rule">list_marker</span>
    │     │  │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │     │  │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    │     │  ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │     │  ├─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    │     │  └─ task_metadata = { &quot;(&quot; ~ (!&quot;:&quot; ~ ANY)+ ~ &quot;:&quot; ~ &quot; &quot; ~ (...
    │     └─ <span class="block-rule">regular_list_item</span>
    │        ├─ <span class="block-rule">list_marker</span>
    │        │  ├─ unordered_marker = @{ &quot;-&quot; | &quot;*&quot; | &quot;+&quot; }
    │        │  └─ ordered_marker = @{ ASCII_DIGIT+ ~ &quot;.&quot; }
    │        ├─ task_marker = { &quot;[&quot; ~ (&quot; &quot; | &quot;x&quot; | &quot;X&quot;) ~ &quot;]&quot; }
    │        └─ <span class="block-rule">list_item_content</span> =  { (!NEWLINE ~ ANY)+ }
    ├─ diagram_type
    │  ├─ <span class="keyword-rule">KW_MERMAID</span> = @{ ^&quot;mermaid&quot; }
    │  └─ <span class="keyword-rule">KW_GRAPHVIZ</span> = @{ ^&quot;graphviz&quot; }
    ├─ <span class="inline-rule">autolink_email</span>
    │  ├─ EMAIL_LOCAL = @{ ASCII_ALPHANUMERIC+ ~ (ASCII_ALPHA...
    │  └─ EMAIL_FULL_DOMAIN = @{ (ASCII_ALPHANUMERIC+ ~ &quot;.&quot;)+ ~ ASC...
    ├─ username
    │  └─ <span class="text-rule">unicode_letter</span> = _{ ASCII_ALPHANUMERIC | LETTER }
    ├─ local_path = @{
    ├─ <span class="inline-rule">inline_html</span> = { &quot;&lt;&quot; ~ (!&quot;&gt;&quot; ~ ANY)+ ~ &quot;&gt;&quot; }
    ├─ <span class="block-rule">table_start</span> = _{ &quot;|&quot; }
    └─ <span class="macro-rule">tab_content_II</span>
       ├─ <span class="macro-rule">tab_line</span>
       │  ├─ <span class="macro-rule">KW_TAB</span>
       │  │  └─ <span class="macro-rule">tab</span>
       │  │     ├─ <span class="circular">tab_line</span>
       │  │     └─ <span class="circular">tab_content_II</span>
       │  └─ <span class="macro-rule">tab_name</span> = @{ (&quot; &quot; | &quot;\t&quot;)+ ~ (!NEWLINE ~ ANY)+ }
       └─ <span class="macro-rule">tab_end</span> =  { &quot;:::&quot; }

    </div>
</body>
</html>